(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8103],{1542:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var i=r(95155),n=r(91266),a=r(46996),s=r(26715),A=r(5041),o=r(17238),l=r(77325),c=r(46002),d=r(66188),g=r(98617),E=r(24848),u=r(87626),Q=r(12115);let h=e=>new Promise((t,r)=>{let i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=e=>r(e)}),y=e=>{let{handleCancel:t}=e,[r,o]=(0,Q.useState)(!1),[c,u]=(0,Q.useState)(""),[y,j]=(0,Q.useState)([]),[p,v]=(0,E.A)(),B=async e=>{e.url||e.preview||(e.preview=await h(e.originFileObj)),u(e.url||e.preview),o(!0)},m=(0,s.jE)(),I=(0,i.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,i.jsx)(a.A,{}),(0,i.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),f=(0,A.n)({mutationFn:n.tF,onSuccess:()=>{p.success("Item added successfully"),m.invalidateQueries({queryKey:["sliderItems"]}),t()},onError:e=>{p.error(e.message)}});return(0,i.jsxs)(i.Fragment,{children:[v,(0,i.jsx)(d.A,{action:void 0,listType:"picture-card",fileList:y,onPreview:B,onChange:e=>{let{fileList:t}=e;return j(t)},children:y.length>=8?null:I}),c&&(0,i.jsx)(g.A,{wrapperStyle:{display:"none"},preview:{visible:r,onVisibleChange:e=>o(e),afterOpenChange:e=>!e&&u("")},src:c}),(0,i.jsx)("br",{}),(0,i.jsx)(l.Ay,{loading:f.isPending,type:"primary",onClick:()=>{let e=new FormData;y.forEach(t=>{t.originFileObj&&e.append("images_in",t.originFileObj)}),f.mutate(e)},children:"Submit"})]})},j=function(){let[e,t]=(0,Q.useState)(!1);function r(){t(!1)}return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.A,{justify:"space-between",children:[(0,i.jsx)(u.default,{level:3,children:"Slider Items"}),(0,i.jsx)(l.Ay,{onClick:function(){t(!0)},icon:(0,i.jsx)(a.A,{}),type:"primary",children:"Add Slider Items"}),(0,i.jsx)(c.A,{title:"Add Slider Items  ",open:e,okText:"Add",destroyOnClose:!0,onCancel:r,footer:null,children:(0,i.jsx)(y,{handleCancel:r})})]})})}},10055:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var i=r(34477);let n=(0,i.createServerReference)("7fef4df98f8100d06e751157b15c80f945dc54bf85",i.callServer,void 0,i.findSourceMapURL,"destroySession")},10746:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});let i="data:image/png;base64,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"},19373:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var i=r(34477);let n=(0,i.createServerReference)("7f7177a3269b8d8c2c9a6ecaeea5051add2a3581c1",i.callServer,void 0,i.findSourceMapURL,"getSessionClient")},32979:(e,t,r)=>{Promise.resolve().then(r.bind(r,95658)),Promise.resolve().then(r.bind(r,1542)),Promise.resolve().then(r.bind(r,37266))},37266:(e,t,r)=>{"use strict";r.d(t,{default:()=>I});var i=r(95155),n=r(91266),a=r(26715),s=r(41754),A=r(5041),o=r(17238),l=r(27212),c=r(77325),d=r(31086),g=r(38105),E=r(46002),u=r(20534),Q=r(13324),h=r(66766),y=r(12115),j=r(56170),p=r(79659),v=r(24848),B=r(95891),m=r(86917);let I=function(){let e=(0,a.jE)(),[t,r]=(0,v.A)(),[I,f]=(0,y.useState)(null),[C,S]=(0,y.useState)(null),[k,x]=(0,y.useState)(!1),{data:N,isLoading:b,isError:w}=(0,s.I)({queryKey:["sliderItems"],queryFn:()=>(0,n.PG)()}),J=(0,A.n)({mutationFn:n.zP,onMutate:e=>{f(e)},onSettled:()=>{f(null)},onSuccess:()=>{e.invalidateQueries({queryKey:["sliderItems"]}),t.success("Item deleted successfully")}}),P=e=>{S(e),x(!0)},R=[{title:"SN",dataIndex:"sn",key:"sn",render:(e,t,r)=>(0,i.jsx)(i.Fragment,{children:r})},{title:"Image",dataIndex:"image",key:"image",render:(e,t)=>(0,i.jsx)(h.default,{width:100,height:100,style:{objectFit:"cover"},src:t.image_url,alt:"image"})},{title:"Is Active",dataIndex:"is_active",key:"is_active",render:(e,t)=>(0,i.jsx)(B.A,{type:t.is_active?"success":"danger",children:t.is_active?"Active":"Inactive"})},{title:"Action",dataIndex:"action",key:"action",width:"200px",render:(e,t)=>(0,i.jsxs)(o.A,{vertical:!0,gap:10,children:[(0,i.jsx)(l.A,{title:"Delete category",description:(0,i.jsx)(o.A,{vertical:!0,children:"Are you sure to delete this item?"}),onConfirm:()=>J.mutate(t.id),okButtonProps:{loading:I===t.id},okText:"Yes",cancelText:"No",children:(0,i.jsx)(c.Ay,{loading:I===t.id,danger:!0,type:"primary",block:!0,icon:(0,i.jsx)(j.A,{}),children:"Delete"})}),(0,i.jsx)(c.Ay,{block:!0,onClick:()=>P(t),icon:(0,i.jsx)(p.A,{}),children:"Edit"})]})}];return w?(0,i.jsx)(d.Ay,{status:"error",title:"Error",subTitle:"Something went wrong"}):(0,i.jsxs)(i.Fragment,{children:[r,(0,i.jsx)(g.A,{bordered:!0,rowKey:"id",loading:b,columns:R,dataSource:N}),(0,i.jsxs)(E.A,{title:"Edit Slider Items",open:k,destroyOnClose:!0,onCancel:()=>{x(!1),S(null)},footer:null,children:[(0,i.jsx)(B.A,{children:"Current Image:"}),C&&(0,i.jsxs)("div",{children:[(0,i.jsx)(m.A,{alt:"image",src:null==C?void 0:C.image_url,fallback:!0,style:{width:"300px  ",height:"auto"}}),(0,i.jsx)("br",{}),(0,i.jsxs)(u.A,{children:[(0,i.jsx)(u.A.Item,{initialValue:C.is_active,name:"is_active",label:"Is Active",children:(0,i.jsx)(Q.A,{})}),(0,i.jsx)(u.A.Item,{initialValue:C.is_active,name:"is_active",label:"Upload New Image",children:(0,i.jsx)(Q.A,{})})]})]})]})]})}},49561:(e,t,r)=>{"use strict";r.d(t,{f6:()=>d,th:()=>E,y1:()=>g});var i=r(23464),n=r(19373),a=r(10055),s=r(74227),A=r(49509);let o=A.env.NEXT_PUBLIC_API_URL,l=o+"/api/v1/",c=o+"/api/v2/",d=i.A.create({baseURL:l,headers:{"Content-Type":"application/json",accept:"application/json"}}),g=i.A.create({baseURL:l,headers:{"Content-Type":"application/json",accept:"application/json"}}),E=i.A.create({baseURL:c,headers:{"Content-Type":"application/json",accept:"application/json"}}),u=[g,i.A.create({baseURL:c,headers:{"Content-Type":"application/json",accept:"application/json"}})];[d,E].forEach(e=>{e.interceptors.response.use(e=>e.data,e=>e.response?Promise.reject(e.response.data.detail):Promise.reject(e.message))}),u.forEach(e=>{e.interceptors.request.use(async e=>{let t=await (0,n.g)();return e.headers.Authorization="Bearer ".concat(t.access_token?t.access_token:"no_token"),e},e=>Promise.reject(e))});let Q=!1,h=null,y=[],j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;y.forEach(r=>{let{resolve:i,reject:n,config:a}=r;e?n(e):(t&&(a.headers.Authorization="Bearer ".concat(t)),i(a))}),y=[]};u.forEach(e=>{e.interceptors.response.use(e=>e.data,async t=>{var r,i,s;let A=t.config;if((null===(r=t.response)||void 0===r?void 0:r.status)===401&&!A._retry){if(A._retry=!0,Q)return new Promise((e,t)=>{y.push({resolve:e,reject:t,config:A})}).then(t=>e(t));h||(Q=!0,h=p());try{if(!await h)return j("Session expired. Please login again."),await (0,a.l)(),Promise.reject("Session expired. Please login again.");{let t=await (0,n.g)();return A.headers.Authorization="Bearer ".concat(t.access_token),j(null,t.access_token),e(A)}}catch(e){return j("Authentication failed. Please login again."),await (0,a.l)(),Promise.reject("Authentication failed. Please login again.")}finally{setTimeout(()=>{h=null,Q=!1},100)}}if(!t.response)return Promise.reject(t.message);{let e=t.response.status,r=(null===(i=t.response.data)||void 0===i?void 0:i.detail)||(null===(s=t.response.data)||void 0===s?void 0:s.message)||"An error occurred";return 403===e&&await (0,a.l)(),Promise.reject(r)}})});let p=async()=>{try{let e=await (0,n.g)();if(!(null==e?void 0:e.refresh_token))return await (0,a.l)(),!1;let t=A.env.NEXT_PUBLIC_API_URL;if(!t)throw Error("API URL is not defined");let r=await fetch("".concat(t,"/api/v1/refresh-token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e.refresh_token}),cache:"no-store"});if(!r.ok)return await (0,a.l)(),!1;let i=await r.json(),o={...e,access_token:i.access_token,refresh_token:i.refresh_token||e.refresh_token};return await (0,s.N)(o),!0}catch(e){return console.error("Token refresh failed:",e),await (0,a.l)(),!1}}},74227:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var i=r(34477);let n=(0,i.createServerReference)("7fbd64ebe47753c9152c4e6b30624382d1a35ef8f3",i.callServer,void 0,i.findSourceMapURL,"setSession")},86917:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var i=r(95155),n=r(66766),a=r(98617),s=r(10746);let A=e=>{let{src:t,alt:r,preview:A,fallback:o,style:l,className:c,wrapperStyle:d}=e;return(0,i.jsx)(a.A,{preview:A,src:t,alt:r,style:{...l},wrapperStyle:{...d},className:c,fallback:o?s.a:void 0,placeholder:(0,i.jsx)(n.default,{src:t,alt:r,fill:!0,style:{objectFit:"cover"}})})}},91266:(e,t,r)=>{"use strict";r.d(t,{PG:()=>n,tF:()=>s,zP:()=>a});var i=r(49561);async function n(){try{return await i.f6.get("image_sliders/?skip=0&limit=100")}catch(e){throw Error(e)}}async function a(e){try{return await i.y1.delete("image_sliders/".concat(e))}catch(e){throw Error(e)}}async function s(e){try{return await i.y1.post("image_sliders/",e,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw Error(e)}}},95658:(e,t,r)=>{"use strict";r.d(t,{Card:()=>i.A,Flex:()=>n.A});var i=r(6124),n=r(17238)}},e=>{var t=t=>e(e.s=t);e.O(0,[4666,6449,6327,3876,3749,8646,8085,7325,6124,6922,1086,9186,7845,5144,2788,3889,9237,534,4714,3063,998,9584,6002,7110,2343,4616,9602,8105,8745,9283,8441,1684,7358],()=>t(32979)),_N_E=e.O()}]);