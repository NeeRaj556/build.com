(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{8059:(e,t,A)=>{"use strict";A.d(t,{g:()=>a});var r=A(34477);let a=(0,r.createServerReference)("7f7838e5a970fb02f032f35cdb2a469d4b04692955",r.callServer,void 0,r.findSourceMapURL,"getSessionClient")},10746:(e,t,A)=>{"use strict";A.d(t,{a:()=>r});let r="data:image/png;base64,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"},12388:(e,t,A)=>{"use strict";A.d(t,{N_:()=>o,a8:()=>i,rd:()=>c});var r=A(47830),a=A(43089);let n=(0,r.o)({locales:["en","nep"],defaultLocale:"en"}),{Link:o,redirect:s,usePathname:i,useRouter:c,getPathname:l}=(0,a.xp)(n)},43368:(e,t,A)=>{"use strict";A.d(t,{l:()=>a});var r=A(34477);let a=(0,r.createServerReference)("7f830b164b7ac146a3d0a96c0f90de1bc09b491a08",r.callServer,void 0,r.findSourceMapURL,"destroySession")},49561:(e,t,A)=>{"use strict";A.d(t,{f6:()=>s,y1:()=>i});var r=A(23464),a=A(8059),n=A(43368);let o="https://backend.enimto.com/api/v1/",s=r.A.create({baseURL:o,headers:{"Content-Type":"application/json",accept:"application/json"}});s.interceptors.response.use(e=>e.data,e=>e.response?Promise.reject(e.response.data.detail):Promise.reject(e.message));let i=r.A.create({baseURL:o,headers:{"Content-Type":"application/json",accept:"application/json"}});i.interceptors.request.use(async e=>{let t=await (0,a.g)();return e.headers.Authorization="Bearer ".concat(t.access_token?t.access_token:"no_token"),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e.data,async e=>{if(!e.response)return Promise.reject(e.message);{let t=e.response.status,A=e.response.data.detail;return(403===t||401===t)&&await (0,n.l)(),Promise.reject(A)}})},61860:e=>{e.exports={floatButton:"styles_floatButton__HeivV"}},64778:(e,t,A)=>{"use strict";A.d(t,{default:()=>i});var r=A(95155),a=A(70445),n=A(77325);A(12115);var o=A(61860),s=A.n(o);let i=function(e){let{onClick:t,icon:A,children:o,type:i,style:c}=e,{token:{colorBgBase:l}}=a.A.useToken();return(0,r.jsx)("div",{style:{...c,background:l},className:s().floatButton,onClick:t,children:(0,r.jsx)(n.Ay,{block:!0,size:"large",icon:A,type:i,children:o})})}},76714:(e,t,A)=>{"use strict";A.d(t,{I7:()=>s,JW:()=>d,LZ:()=>c,Tj:()=>o,mn:()=>a,nt:()=>i,tA:()=>Q,ub:()=>n,ul:()=>l,yW:()=>E});var r=A(49561);async function a(e){try{return await r.y1.post("templates/",e)}catch(e){throw Error(e)}}async function n(e,t){try{return await r.y1.put("templates/".concat(t),e)}catch(e){throw Error(e)}}async function o(e){try{return await r.y1.post("templates/upload-template-images/",e,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw Error(e)}}async function s(e){try{return await r.y1.delete("templates/".concat(e))}catch(e){throw Error(e)}}async function i(){try{return await r.y1.get("templates/?skip=0&limit=100")}catch(e){throw Error(e)}}async function c(){try{return await r.f6.get("categories/?skip=0&limit=100")}catch(e){throw Error(e)}}async function l(e){try{return await r.y1.delete("categories/".concat(e))}catch(e){throw Error(e)}}async function E(e){try{return await r.y1.post("categories/",e)}catch(e){throw Error(e)}}async function d(e){try{return await r.y1.put("categories/".concat(e.id),e)}catch(e){throw Error(e)}}async function Q(e){try{return await r.y1.post("categories/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw Error(e)}}},86917:(e,t,A)=>{"use strict";A.d(t,{A:()=>s});var r=A(95155),a=A(66766),n=A(98617),o=A(10746);let s=e=>{let{src:t,alt:A,preview:s,fallback:i,style:c,className:l,wrapperStyle:E}=e;return(0,r.jsx)(n.A,{preview:s,src:t,alt:A,style:{...c},wrapperStyle:{...E},className:l,fallback:i?o.a:void 0,placeholder:(0,r.jsx)(a.default,{src:t,alt:A,fill:!0,style:{objectFit:"cover"}})})}},88128:(e,t,A)=>{Promise.resolve().then(A.bind(A,95658)),Promise.resolve().then(A.bind(A,62764)),Promise.resolve().then(A.bind(A,87626)),Promise.resolve().then(A.bind(A,45626)),Promise.resolve().then(A.bind(A,48882)),Promise.resolve().then(A.bind(A,64778)),Promise.resolve().then(A.bind(A,89737))},89737:(e,t,A)=>{"use strict";A.d(t,{default:()=>C});var r=A(95155),a=A(86917),n=A(94326),o=A(17238),s=A(27212),i=A(77325),c=A(31086),l=A(78073),E=A(56170),d=A(79659),Q=A(12115),g=A(26715),u=A(19373),h=A(5041),y=A(76714),B=A(12388),m=A(6874),p=A.n(m);let C=function(){let e=(0,B.rd)(),[t,A]=n.Ay.useMessage(),[m,C]=(0,Q.useState)(null),I=(0,g.jE)(),{data:k,isLoading:j,isError:N}=(0,u.I)({queryFn:y.nt,queryKey:["userTemplates"]}),b=(0,h.n)({mutationFn:e=>(0,y.I7)(e),onMutate:e=>{C(e)},onSettled:()=>{C(null)},onSuccess:e=>{I.invalidateQueries({queryKey:["userTemplates"]}),t.success("Template of id:".concat(e.id," deleted successfully"))},onError:e=>{t.error(e.message)}}),f=[{title:"Title",dataIndex:"title",key:"title"},{title:"Category",dataIndex:"category_id",key:"category_id"},{title:"ID",dataIndex:"id",key:"id"},{title:"Thumbnail",dataIndex:"thumbnail_url",key:"thumbnail_url",render:(e,t)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.A,{src:t.thumbnail_url,fallback:!0,alt:"data.id ".concat(t.id),style:{width:"100px",height:"100px",objectFit:"contain"}})})},{dataIndex:"actions",key:"actions",title:"Actions",width:"15%",render:(e,t)=>(0,r.jsxs)(o.A,{gap:8,wrap:"wrap",children:[(0,r.jsx)(s.A,{title:"Delete category",description:(0,r.jsx)(o.A,{vertical:!0,children:"Are you sure to delete this item?"}),onConfirm:()=>b.mutate(t.id),okButtonProps:{loading:m===t.id},okText:"Yes",cancelText:"No",children:(0,r.jsx)(i.Ay,{loading:m===t.id,danger:!0,type:"primary",icon:(0,r.jsx)(E.A,{}),children:"Delete"})}),(0,r.jsx)(p(),{href:"/admin/templates/".concat(t.id),children:(0,r.jsx)(i.Ay,{block:!0,icon:(0,r.jsx)(d.A,{}),children:"Edit"})})]})}];return((0,Q.useEffect)(()=>(N&&t.error("Error fetching list"),()=>{}),[]),N)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.Ay,{status:"error",title:"Something went wrong",subTitle:(0,r.jsx)(i.Ay,{type:"link",onClick:()=>e.refresh(),children:"Try again"})})}):(0,r.jsxs)(r.Fragment,{children:[A,(0,r.jsx)(l.A,{loading:j,columns:f,rowKey:"id",dataSource:k})]})}},95658:(e,t,A)=>{"use strict";A.d(t,{Card:()=>r.A,Flex:()=>a.A});var r=A(6124),a=A(17238)}},e=>{var t=t=>e(e.s=t);e.O(0,[2027,4666,86,3876,3749,8646,8085,7325,6124,6922,6874,1086,9186,5144,7845,3889,9237,4714,3063,8220,1105,8617,9584,2343,4616,8073,8745,4825,8441,1684,7358],()=>t(88128)),_N_E=e.O()}]);