(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450],{1228:(e,r,n)=>{"use strict";n.d(r,{DY:()=>a,Sk:()=>A,_h:()=>i,ec:()=>c,iS:()=>o,p7:()=>s});var t=n(49561);async function s(e){try{return await t.f6.post("login/phone-number",e)}catch(e){throw Error(e)}}async function o(e){try{return await t.f6.post("verify-phone-number",e)}catch(e){throw Error(e)}}async function i(e){try{return await t.th.post("login",e,{headers:{"Content-Type":"application/json"}})}catch(e){throw Error(e)}}async function a(e){try{return await t.f6.post("users/",e)}catch(e){throw Error(e)}}async function A(){try{return await t.y1.get("users/me/")}catch(e){throw Error(e)}}async function c(e){try{return await t.y1.post("change-password",e)}catch(e){throw Error(e)}}},10055:(e,r,n)=>{"use strict";n.d(r,{l:()=>s});var t=n(34477);let s=(0,t.createServerReference)("7fef4df98f8100d06e751157b15c80f945dc54bf85",t.callServer,void 0,t.findSourceMapURL,"destroySession")},10746:(e,r,n)=>{"use strict";n.d(r,{a:()=>t});let t="data:image/png;base64,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"},19373:(e,r,n)=>{"use strict";n.d(r,{g:()=>s});var t=n(34477);let s=(0,t.createServerReference)("7f7177a3269b8d8c2c9a6ecaeea5051add2a3581c1",t.callServer,void 0,t.findSourceMapURL,"getSessionClient")},21325:(e,r,n)=>{"use strict";n.d(r,{default:()=>a});var t=n(95155),s=n(87017),o=n(26715);let i=new s.E,a=e=>{let{children:r}=e;return(0,t.jsx)(o.Ht,{client:i,children:r})}},30805:(e,r,n)=>{Promise.resolve().then(n.bind(n,65392)),Promise.resolve().then(n.bind(n,45626)),Promise.resolve().then(n.bind(n,48882)),Promise.resolve().then(n.bind(n,78830)),Promise.resolve().then(n.t.bind(n,63127,23)),Promise.resolve().then(n.bind(n,75424)),Promise.resolve().then(n.bind(n,70394)),Promise.resolve().then(n.bind(n,21325)),Promise.resolve().then(n.bind(n,40274)),Promise.resolve().then(n.t.bind(n,69674,23))},33118:(e,r,n)=>{"use strict";n.d(r,{E:()=>t});let t=(0,n(88693).vt)(e=>({open:!1,setOpen:r=>e({open:r})}))},40274:(e,r,n)=>{"use strict";n.d(r,{default:()=>h});var t=n(95155),s=n(86917),o=n(33118),i=n(85189),a=n(28562),A=n(17238),c=n(37974),l=n(95891);n(88929);var d=n(53612);let h=function(e){let{data:r}=e,{setOpen:n,open:h}=(0,o.E)();return(0,t.jsx)(i.A,{open:h,onClose:()=>n(!1),children:(0,t.jsxs)("div",{className:"",style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)("div",{className:"profile-picture",children:(0,t.jsx)(a.A,{style:{border:(null==r?void 0:r.profile_picture_url)?"none":"2px solid black"},size:100,src:(0,t.jsx)(s.A,{src:(null==r?void 0:r.profile_picture_url)?"".concat(null==r?void 0:r.profile_picture_url):"/user.png",fallback:!0,alt:""})})}),(0,t.jsxs)(A.A,{vertical:!0,justify:"center",align:"center",children:[(0,t.jsx)("span",{className:"user-name",children:null==r?void 0:r.full_name}),(0,t.jsx)(l.A,{type:"secondary",children:null==r?void 0:r.user_role}),(0,t.jsx)(l.A,{type:"secondary",children:null==r?void 0:r.phone_number}),(0,t.jsx)(l.A,{type:"secondary",children:null==r?void 0:r.email}),(0,t.jsx)(d.A,{})]}),(0,t.jsxs)("div",{className:"profile-details",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.A,{style:{fontSize:"1rem",fontWeight:600},children:"Age : "}),(0,t.jsx)(l.A,{type:"secondary",style:{fontSize:"1rem"},children:"20"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.A,{style:{fontSize:"1rem",fontWeight:600},children:["Location :"," "]}),(0,t.jsx)(l.A,{type:"secondary",style:{fontSize:"1rem"},children:"Banepa, kavre"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.A,{style:{fontSize:"1rem",fontWeight:600},children:["Food preference :"," "]}),(0,t.jsx)(l.A,{type:"secondary",style:{fontSize:"1rem"},children:"Non-veg"})]}),(0,t.jsxs)("div",{className:"hobbies",children:[(0,t.jsx)(c.A,{color:"#fc5b3f",style:{width:"min-content"},children:"Sports"}),(0,t.jsx)(c.A,{color:"#fc5b3f",style:{width:"min-content"},children:"Music"}),(0,t.jsx)(c.A,{color:"#fc5b3f",style:{width:"min-content"},children:"Dancing"}),(0,t.jsx)(c.A,{color:"#fc5b3f",style:{width:"min-content"},children:"Anime"}),(0,t.jsx)(c.A,{color:"#fc5b3f",style:{width:"min-content"},children:"Lorem"}),(0,t.jsx)(c.A,{color:"#fc5b3f",style:{width:"min-content"},children:"Ipsum"})]})]})]})})}},42234:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});let t={colorPrimary:"#fc5b3f",colorInfo:"#fc5b3f"}},49561:(e,r,n)=>{"use strict";n.d(r,{f6:()=>d,th:()=>E,y1:()=>h});var t=n(23464),s=n(19373),o=n(10055),i=n(74227),a=n(49509);let A=a.env.NEXT_PUBLIC_API_URL,c=A+"/api/v1/",l=A+"/api/v2/",d=t.A.create({baseURL:c,headers:{"Content-Type":"application/json",accept:"application/json"}}),h=t.A.create({baseURL:c,headers:{"Content-Type":"application/json",accept:"application/json"}}),E=t.A.create({baseURL:l,headers:{"Content-Type":"application/json",accept:"application/json"}}),u=[h,t.A.create({baseURL:l,headers:{"Content-Type":"application/json",accept:"application/json"}})];[d,E].forEach(e=>{e.interceptors.response.use(e=>e.data,e=>e.response?Promise.reject(e.response.data.detail):Promise.reject(e.message))}),u.forEach(e=>{e.interceptors.request.use(async e=>{let r=await (0,s.g)();return e.headers.Authorization="Bearer ".concat(r.access_token?r.access_token:"no_token"),e},e=>Promise.reject(e))});let g=!1,Q=null,f=[],y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;f.forEach(n=>{let{resolve:t,reject:s,config:o}=n;e?s(e):(r&&(o.headers.Authorization="Bearer ".concat(r)),t(o))}),f=[]};u.forEach(e=>{e.interceptors.response.use(e=>e.data,async r=>{var n,t,i;let a=r.config;if((null===(n=r.response)||void 0===n?void 0:n.status)===401&&!a._retry){if(a._retry=!0,g)return new Promise((e,r)=>{f.push({resolve:e,reject:r,config:a})}).then(r=>e(r));Q||(g=!0,Q=p());try{if(!await Q)return y("Session expired. Please login again."),await (0,o.l)(),Promise.reject("Session expired. Please login again.");{let r=await (0,s.g)();return a.headers.Authorization="Bearer ".concat(r.access_token),y(null,r.access_token),e(a)}}catch(e){return y("Authentication failed. Please login again."),await (0,o.l)(),Promise.reject("Authentication failed. Please login again.")}finally{setTimeout(()=>{Q=null,g=!1},100)}}if(!r.response)return Promise.reject(r.message);{let e=r.response.status,n=(null===(t=r.response.data)||void 0===t?void 0:t.detail)||(null===(i=r.response.data)||void 0===i?void 0:i.message)||"An error occurred";return 403===e&&await (0,o.l)(),Promise.reject(n)}})});let p=async()=>{try{let e=await (0,s.g)();if(!(null==e?void 0:e.refresh_token))return await (0,o.l)(),!1;let r=a.env.NEXT_PUBLIC_API_URL;if(!r)throw Error("API URL is not defined");let n=await fetch("".concat(r,"/api/v1/refresh-token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e.refresh_token}),cache:"no-store"});if(!n.ok)return await (0,o.l)(),!1;let t=await n.json(),A={...e,access_token:t.access_token,refresh_token:t.refresh_token||e.refresh_token};return await (0,i.N)(A),!0}catch(e){return console.error("Token refresh failed:",e),await (0,o.l)(),!1}}},53612:(e,r,n)=>{"use strict";n.d(r,{A:()=>g});var t=n(95155),s=n(79499),o=n(1228),i=n(33118),a=n(5041),A=n(20534),c=n(86446),l=n(77325),d=n(46002),h=n(72070),E=n(31086),u=n(12115);let g=()=>{let[e,r]=(0,u.useState)(!1),[n,g]=(0,u.useState)(!1),[Q]=A.A.useForm(),[f,y]=c.Ay.useNotification(),{setOpen:p}=(0,i.E)(),m=async()=>{p(!1),await (0,s.r)(),g(!1),r(!1)},j=(0,a.n)({mutationFn:o.ec,onSuccess:()=>{r(!1),g(!0)},onError:e=>{f.error({message:"Error",description:e.message})}}),v=async e=>{j.mutate({current_password:e.currentPassword,new_password:e.newPassword})};return(0,t.jsxs)(t.Fragment,{children:[y,(0,t.jsx)(l.Ay,{type:"primary",onClick:()=>{r(!0)},children:"Change Password"}),(0,t.jsx)(d.A,{title:"Change Password",open:e,onCancel:()=>{r(!1),Q.resetFields()},footer:null,children:(0,t.jsxs)(A.A,{form:Q,layout:"vertical",onFinish:v,children:[(0,t.jsx)(A.A.Item,{label:"Current Password",name:"currentPassword",rules:[{required:!0,message:"Please input your current password!"}],children:(0,t.jsx)(h.A.Password,{})}),(0,t.jsx)(A.A.Item,{label:"New Password",name:"newPassword",rules:[{required:!0,message:"Please input your new password!"}],children:(0,t.jsx)(h.A.Password,{})}),(0,t.jsx)(A.A.Item,{label:"Confirm New Password",name:"confirmPassword",dependencies:["newPassword"],rules:[{required:!0,message:"Please confirm your new password!"},e=>{let{getFieldValue:r}=e;return{validator:(e,n)=>n&&r("newPassword")!==n?Promise.reject(Error("The two passwords do not match!")):Promise.resolve()}}],children:(0,t.jsx)(h.A.Password,{})}),(0,t.jsx)(A.A.Item,{children:(0,t.jsx)(l.Ay,{type:"primary",htmlType:"submit",loading:j.isPending,block:!0,children:"Change Password"})})]})}),(0,t.jsx)(d.A,{open:n,footer:null,onCancel:()=>g(!1),children:(0,t.jsx)(E.Ay,{status:"success",title:"Password Changed Successfully! You can end your current session or continue...",extra:[(0,t.jsx)(l.Ay,{type:"primary",onClick:m,children:"End current session"},"logout"),(0,t.jsx)(l.Ay,{danger:!0,type:"primary",onClick:()=>{g(!1)},children:"Cancel"},"logout")]})})]})}},69674:()=>{},70394:(e,r,n)=>{"use strict";n.d(r,{default:()=>A});var t=n(95155),s=n(57845),o=n(68815),i=n.n(o),a=n(42234);i();let A=e=>{let{children:r}=e;return(0,t.jsx)(s.Ay,{theme:{token:a.A},children:r})}},74227:(e,r,n)=>{"use strict";n.d(r,{N:()=>s});var t=n(34477);let s=(0,t.createServerReference)("7fbd64ebe47753c9152c4e6b30624382d1a35ef8f3",t.callServer,void 0,t.findSourceMapURL,"setSession")},75424:(e,r,n)=>{"use strict";n.d(r,{AOSInit:()=>i});var t=n(12115),s=n(14915),o=n.n(s);n(49537);let i=()=>((0,t.useEffect)(()=>{o().init({easing:"ease-out-quad",duration:1e3})},[]),null)},79499:(e,r,n)=>{"use strict";n.d(r,{r:()=>s});var t=n(34477);let s=(0,t.createServerReference)("7f634689e4be3e6459df4d7e37130c2ed489d57ae5",t.callServer,void 0,t.findSourceMapURL,"logout")},86917:(e,r,n)=>{"use strict";n.d(r,{A:()=>a});var t=n(95155),s=n(66766),o=n(98617),i=n(10746);let a=e=>{let{src:r,alt:n,preview:a,fallback:A,style:c,className:l,wrapperStyle:d}=e;return(0,t.jsx)(o.A,{preview:a,src:r,alt:n,style:{...c},wrapperStyle:{...d},className:l,fallback:A?i.a:void 0,placeholder:(0,t.jsx)(s.default,{src:r,alt:n,fill:!0,style:{objectFit:"cover"}})})}},88929:()=>{}},e=>{var r=r=>e(e.s=r);e.O(0,[714,9096,9762,4376,7643,4666,6449,6327,8646,8085,7325,6922,6874,1086,9186,7845,5144,2788,3889,9237,534,4714,3063,998,6002,2660,3702,8712,6663,8441,1684,7358],()=>r(30805)),_N_E=e.O()}]);