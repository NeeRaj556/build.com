(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6053],{1228:(e,t,r)=>{"use strict";r.d(t,{DY:()=>a,Sk:()=>l,_h:()=>o,ec:()=>c,iS:()=>i,p7:()=>n});var s=r(49561);async function n(e){try{return await s.f6.post("login/phone-number",e)}catch(e){throw Error(e)}}async function i(e){try{return await s.f6.post("verify-phone-number",e)}catch(e){throw Error(e)}}async function o(e){try{return await s.th.post("login",e,{headers:{"Content-Type":"application/json"}})}catch(e){throw Error(e)}}async function a(e){try{return await s.f6.post("users/",e)}catch(e){throw Error(e)}}async function l(){try{return await s.y1.get("users/me/")}catch(e){throw Error(e)}}async function c(e){try{return await s.y1.post("change-password",e)}catch(e){throw Error(e)}}},3080:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={src:"/_next/static/media/Vector.bd90b61b.png",height:129,width:131,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEX///////////////////9MaXH///////////////////////9BjiGlAAAADHRSTlP+MtLzvQCFtTySdO3cn7+TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANklEQVR4nBXEyRHAMAwDsaWoy3b//WaCByilnVusAY9IMHHmXwoepvseHsM93QxLRASilJCqDyB3AOTIbWHJAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},10055:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var s=r(34477);let n=(0,s.createServerReference)("7fef4df98f8100d06e751157b15c80f945dc54bf85",s.callServer,void 0,s.findSourceMapURL,"destroySession")},12388:(e,t,r)=>{"use strict";r.d(t,{N_:()=>o,a8:()=>l,rd:()=>c});var s=r(47830),n=r(43089);let i=(0,s.o)({locales:["en","nep"],defaultLocale:"en"}),{Link:o,redirect:a,usePathname:l,useRouter:c,getPathname:d}=(0,n.xp)(i)},19373:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(34477);let n=(0,s.createServerReference)("7f7177a3269b8d8c2c9a6ecaeea5051add2a3581c1",s.callServer,void 0,s.findSourceMapURL,"getSessionClient")},26584:e=>{e.exports={content:"style_content__sGh_Z",footer:"style_footer__ahIuT",footerContent:"style_footerContent__cAooi",children:"style_children__1X0rj",container:"style_container__f1mGZ",siderLogo:"style_siderLogo__6quUb",siderStyle:"style_siderStyle__ewwau",siderMask:"style_siderMask__FBCIB",dropdownBox:"style_dropdownBox__uBhVB",notificationCard:"style_notificationCard__437ip"}},28239:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(95155),n=r(66766);r(44947);var i=r(3080),o=r(12115);let a=e=>{let{children:t}=e,[r,a]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{let e=setTimeout(()=>{a(!1)},2e3);return()=>clearTimeout(e)},[]),r)?(0,s.jsx)("div",{className:"Splashscreen-container",children:(0,s.jsxs)("div",{className:"Splashscreen-items",children:[(0,s.jsx)(n.default,{priority:!0,height:i.A.height,width:i.A.width,src:i.A,alt:"E-nimtologo","data-aos-once":!1,"data-aos":"fade-right"}),(0,s.jsxs)("div",{className:"body-texts","data-aos-once":!0,"data-aos":"fade-down",children:[(0,s.jsx)("label",{className:"splash-title",children:"E-Nimto"}),(0,s.jsx)("label",{className:"splash-content",children:"Modern Way of invitation following Tradition"})]})]})}):(0,s.jsx)(s.Fragment,{children:t})}},33118:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});let s=(0,r(88693).vt)(e=>({open:!1,setOpen:t=>e({open:t})}))},42234:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={colorPrimary:"#fc5b3f",colorInfo:"#fc5b3f"}},44947:()=>{},49561:(e,t,r)=>{"use strict";r.d(t,{f6:()=>A,th:()=>h,y1:()=>u});var s=r(23464),n=r(19373),i=r(10055),o=r(74227),a=r(49509);let l=a.env.NEXT_PUBLIC_API_URL,c=l+"/api/v1/",d=l+"/api/v2/",A=s.A.create({baseURL:c,headers:{"Content-Type":"application/json",accept:"application/json"}}),u=s.A.create({baseURL:c,headers:{"Content-Type":"application/json",accept:"application/json"}}),h=s.A.create({baseURL:d,headers:{"Content-Type":"application/json",accept:"application/json"}}),p=[u,s.A.create({baseURL:d,headers:{"Content-Type":"application/json",accept:"application/json"}})];[A,h].forEach(e=>{e.interceptors.response.use(e=>e.data,e=>e.response?Promise.reject(e.response.data.detail):Promise.reject(e.message))}),p.forEach(e=>{e.interceptors.request.use(async e=>{let t=await (0,n.g)();return e.headers.Authorization="Bearer ".concat(t.access_token?t.access_token:"no_token"),e},e=>Promise.reject(e))});let g=!1,x=null,y=[],f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;y.forEach(r=>{let{resolve:s,reject:n,config:i}=r;e?n(e):(t&&(i.headers.Authorization="Bearer ".concat(t)),s(i))}),y=[]};p.forEach(e=>{e.interceptors.response.use(e=>e.data,async t=>{var r,s,o;let a=t.config;if((null===(r=t.response)||void 0===r?void 0:r.status)===401&&!a._retry){if(a._retry=!0,g)return new Promise((e,t)=>{y.push({resolve:e,reject:t,config:a})}).then(t=>e(t));x||(g=!0,x=j());try{if(!await x)return f("Session expired. Please login again."),await (0,i.l)(),Promise.reject("Session expired. Please login again.");{let t=await (0,n.g)();return a.headers.Authorization="Bearer ".concat(t.access_token),f(null,t.access_token),e(a)}}catch(e){return f("Authentication failed. Please login again."),await (0,i.l)(),Promise.reject("Authentication failed. Please login again.")}finally{setTimeout(()=>{x=null,g=!1},100)}}if(!t.response)return Promise.reject(t.message);{let e=t.response.status,r=(null===(s=t.response.data)||void 0===s?void 0:s.detail)||(null===(o=t.response.data)||void 0===o?void 0:o.message)||"An error occurred";return 403===e&&await (0,i.l)(),Promise.reject(r)}})});let j=async()=>{try{let e=await (0,n.g)();if(!(null==e?void 0:e.refresh_token))return await (0,i.l)(),!1;let t=a.env.NEXT_PUBLIC_API_URL;if(!t)throw Error("API URL is not defined");let r=await fetch("".concat(t,"/api/v1/refresh-token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e.refresh_token}),cache:"no-store"});if(!r.ok)return await (0,i.l)(),!1;let s=await r.json(),l={...e,access_token:s.access_token,refresh_token:s.refresh_token||e.refresh_token};return await (0,o.N)(l),!0}catch(e){return console.error("Token refresh failed:",e),await (0,i.l)(),!1}}},60213:(e,t,r)=>{"use strict";r.d(t,{default:()=>A});var s=r(95155);r(79911);var n=r(57845),i=r(70445),o=r(60572),a=r.n(o),l=r(12115),c=r(76381),d=r(42234);a();let A=e=>{let{children:t,darkmode:r}=e,{isDark:o,setDarkThemeAnt:a}=(0,c.A)();return(0,l.useEffect)(()=>{a(r)},[]),(0,s.jsx)(n.Ay,{theme:{token:d.A,algorithm:r||o?i.A.darkAlgorithm:void 0},children:t})}},74227:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var s=r(34477);let n=(0,s.createServerReference)("7fbd64ebe47753c9152c4e6b30624382d1a35ef8f3",s.callServer,void 0,s.findSourceMapURL,"setSession")},76053:(e,t,r)=>{Promise.resolve().then(r.bind(r,45626)),Promise.resolve().then(r.bind(r,48882)),Promise.resolve().then(r.bind(r,60213)),Promise.resolve().then(r.bind(r,28239)),Promise.resolve().then(r.bind(r,93813))},76381:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(88693),n=r(34477);let i=(0,n.createServerReference)("7fd42654199bbc522d263a66c304fae222a040f4fc",n.callServer,void 0,n.findSourceMapURL,"createDark"),o=(0,s.vt)(e=>({isDark:!1,setDarkThemeAnt:t=>{i(t),e({isDark:t})}}))},79499:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var s=r(34477);let n=(0,s.createServerReference)("7f634689e4be3e6459df4d7e37130c2ed489d57ae5",s.callServer,void 0,s.findSourceMapURL,"logout")},82337:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(95155),n=r(12388),i=r(77325),o=r(82343),a=r(97226),l=r(85359),c=r(27043);function d(e){let{style:t}=e,r=(0,c.useTranslations)("Lang"),d=(0,n.rd)(),A=(0,n.a8)(),u=e=>{d.push(A,{locale:e})},h=[{key:"1",label:(0,s.jsx)(i.Ay,{onClick:()=>{u("nep")},type:"link",children:"नेपाली"})},{key:"2",label:(0,s.jsx)(i.Ay,{onClick:()=>{u("en")},type:"link",children:"English"})}];return(0,s.jsx)(o.A,{menu:{items:h},children:(0,s.jsx)("a",{style:t,onClick:e=>e.preventDefault(),children:(0,s.jsxs)(a.A,{children:[r("title"),(0,s.jsx)(l.A,{})]})})})}},93496:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={src:"/_next/static/media/user1.a4089b42.jpeg",height:755,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACgAv8A/8QAHhAAAQQBBQAAAAAAAAAAAAAAAgEDERIABRMkQWH/2gAIAQEAAT8A0fmtvmQHXdVRhbV6r5EZ/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQADESH/2gAIAQIBAT8AbHXhP//EABkRAAEFAAAAAAAAAAAAAAAAAAEAAgMRMf/aAAgBAwEBPwARtoav/9k=",blurWidth:5,blurHeight:8}},93813:(e,t,r)=>{"use strict";r.d(t,{default:()=>eL});var s=r(95155),n=r(34477);let i=(0,n.createServerReference)("7fd60f88411e82a0a4e20a7301788d06e02ce3bf92",n.callServer,void 0,n.findSourceMapURL,"setUser");var o=r(1228),a=r(12388),l=r(95759),c=r(41754),d=r(86446),A=r(53311),u=r(38532),h=r(12115),p=r(26584),g=r.n(p),x=r(94600);let y=function(){return(0,s.jsxs)("div",{className:g().footer,children:[(0,s.jsx)(x.A,{}),(0,s.jsxs)("div",{className:g().footerContent,children:[(0,s.jsxs)("div",{children:["Copyright \xa9 2024 ",(0,s.jsx)("strong",{children:"E-Nimto"})," All rights reserved."]}),(0,s.jsx)("div",{children:"Term & Conditions | Privacy & Policy"})]})]})},f={src:"/_next/static/media/credit-icon.e0da87f5.png"};var j=r(93496),m=r(79499),v=r(38962),b=r(60779),k=r(92611),_=r(77325),w=r(70445),C=r(17238),S=r(26922),E=r(28562),T=r(82343),I=r(97226),B=r(66766),R=r(49561);async function M(){try{return await R.y1.get("notifications/?skip=0&limit=100")}catch(e){throw Error(e)}}async function U(e){try{return await R.y1.get("notifications/".concat(e))}catch(e){throw Error(e)}}async function P(){try{return await R.y1.get("notifications/read-all")}catch(e){throw Error(e)}}var N=r(97555),L=r(12133),z=r(64227),D=r(48312),Q=r(90765),F=r(24073),H=r(56203),X=r(39213),O=r(83457),W=r(5041),G=r(88646),q=r(31086),V=r(36768),Y=r(85),K=r(95891);let Z={fontSize:25},J=function(){let{token:{colorTextQuaternary:e,colorPrimary:t,colorWarning:r,colorSuccess:n,colorError:i,colorBorder:o,colorBgElevated:l,colorBorderBg:d,borderRadiusLG:A,boxShadowSecondary:u}}=w.A.useToken(),p={backgroundColor:l,borderRadius:A,boxShadow:u},y={boxShadow:"none"},f={account:{icon:(0,s.jsx)(N.A,{style:Z}),color:"blue"},info:{icon:(0,s.jsx)(L.A,{style:Z}),color:"skyblue"},warning:{icon:(0,s.jsx)(z.A,{style:Z}),color:r},error:{icon:(0,s.jsx)(D.A,{style:Z}),color:i},success:{icon:(0,s.jsx)(Q.A,{style:Z}),color:n},event:{icon:(0,s.jsx)(F.A,{style:Z}),color:t},template:{icon:(0,s.jsx)(H.A,{style:Z}),color:"brown"},others:{icon:(0,s.jsx)(X.A,{style:Z}),color:"gray"}},j=[{key:"1",label:(0,s.jsxs)(C.A,{gap:10,children:[(0,s.jsx)(G.A.Avatar,{size:"small"}),(0,s.jsx)(G.A.Input,{size:"small"})]})},{key:"2",label:(0,s.jsxs)(C.A,{gap:10,children:[(0,s.jsx)(G.A.Avatar,{size:"small"}),(0,s.jsx)(G.A.Input,{size:"small"})]})},{key:"3",label:(0,s.jsxs)(C.A,{gap:10,children:[(0,s.jsx)(G.A.Avatar,{size:"small"}),(0,s.jsx)(G.A.Input,{size:"small"})]})}],m=[{key:"1",label:(0,s.jsx)(q.Ay,{status:"error",title:"Fetch Failed",subTitle:"Something went wrong"})}],v=(0,W.n)({mutationFn:U,onError:()=>{console.log("Error while reading notification!!!")}}),b=(0,W.n)({mutationFn:P,onError:()=>{console.log("Error while reading notification!!!")}}),{data:k,isSuccess:S,isLoading:I}=(0,c.I)({queryKey:["notification"],queryFn:M}),B=S?k.length>0?k.flatMap((t,r)=>{let{icon:n,color:i}=f[t.type]||f.others,o={key:String(r+1),label:(0,s.jsxs)(a.N_,{onClick:()=>v.mutate(t.id),href:"event"===t.type?"/user/invitations":"#",children:[(0,s.jsxs)(C.A,{gap:20,align:"center",children:[(0,s.jsx)(E.A,{style:{backgroundColor:i},icon:n,size:45}),(0,s.jsxs)(C.A,{vertical:!0,children:[(0,s.jsx)(C.A,{justify:"flex-center",children:(0,s.jsx)(K.A,{style:{fontSize:"1.2rem"},children:t.title})}),(0,s.jsx)(C.A,{justify:"center",align:"flex-end",children:(0,s.jsx)(C.A,{align:"flex-end",style:{height:"fit-content"},children:(0,s.jsx)(K.A,{style:{color:e},children:function(e){let t=new Date(e);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(t)}(t.created_at)})})})]})]}),(0,s.jsx)(K.A,{type:"secondary",style:{wordWrap:"break-word"},children:t.body})]})};return r<k.length-1?[o,{key:"divider-".concat(r),disabled:!0,label:(0,s.jsx)(x.A,{style:{padding:0,margin:0,cursor:"default "}})}]:[o]}):[{key:1,label:(0,s.jsx)(V.A,{description:"no notification"})}]:[];return(0,s.jsx)(T.A,{trigger:["click"],placement:"bottom",dropdownRender:e=>(0,s.jsxs)("div",{className:g().dropdownBox,style:p,children:[k&&(null==k?void 0:k.length)>0&&(0,s.jsx)(C.A,{justify:"end",style:{borderBottom:"1px solid ".concat(o),padding:"5px"},children:(0,s.jsx)(_.Ay,{onClick:()=>{b.mutate()},type:"link",style:{paddingRight:30},children:"Read all"})}),h.cloneElement(e,{style:y})]}),menu:{items:S?B:I?j:m},children:(0,s.jsx)(_.Ay,{style:{height:"100%",display:"flex",alignItems:"center"},type:"link",icon:(0,s.jsx)(Y.A,{count:S&&k.length>0?k.length:null,children:(0,s.jsx)(O.A,{style:{fontSize:"1.5rem",color:"rgb(69, 85, 96)"}})})})})};var $=r(33118);let{Header:ee}=A.A,et=function(e){let{user:t,setOpenSettings:r,breakpoint:n}=e,i=(0,a.rd)(),{setOpen:o,open:c}=(0,$.E)(),d=[{key:"1",label:(0,s.jsx)(_.Ay,{onClick:()=>i.push("/user-profile"),type:"link",children:"Profile"})},{key:"2",label:(0,s.jsx)(_.Ay,{type:"link",onClick:async()=>(0,m.r)(),children:"Log out"})}],{token:{colorBgContainer:A,colorIcon:u,colorTextSecondary:h,colorTextTertiary:p}}=w.A.useToken(),{collapsed:x,setCollapsed:y}=(0,l.l)();return(0,s.jsx)(ee,{style:{backgroundColor:A},className:g().siderStyle,children:(0,s.jsxs)(C.A,{align:"center",justify:"space-between",children:[(0,s.jsx)(_.Ay,{type:"link",style:{color:"rgb(69, 85, 96)"},icon:x?(0,s.jsx)(b.A,{style:{fontSize:"1.5rem"}}):(0,s.jsx)(v.A,{style:{fontSize:"1.5rem"}}),onClick:()=>y(!x)}),(0,s.jsxs)(C.A,{align:"center",justify:"space-between",gap:n?15:30,children:[(0,s.jsx)(k.A,{style:{color:u,fontSize:"1.5rem"},onClick:()=>{r(!0)}}),!n&&(0,s.jsx)(S.A,{title:"Total Credits",children:(0,s.jsxs)(C.A,{align:"center",gap:5,children:[(0,s.jsx)(E.A,{src:f.src}),(0,s.jsx)("p",{style:{color:h,fontSize:"1rem"},children:(null==t?void 0:t.credit)||"0"})]})}),(0,s.jsx)(J,{}),(0,s.jsx)(T.A,{menu:{items:d},children:(0,s.jsx)(_.Ay,{style:{height:"100%",display:"flex",alignItems:"center"},type:"link",children:(0,s.jsxs)(I.A,{align:"center",children:[(0,s.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,s.jsx)(E.A,{size:50,style:{border:"2px solid rgba(0,0,0,0.1)"},src:(0,s.jsx)(B.default,{style:{borderRadius:"100%",objectFit:"cover"},src:(null==t?void 0:t.profile_picture_url)?"".concat(null==t?void 0:t.profile_picture_url):j.A.src,width:45,height:45,alt:"user"})})}),(0,s.jsxs)(I.A.Compact,{style:{textAlign:"left"},size:"small",direction:"vertical",block:!0,children:[(0,s.jsx)("p",{style:{color:h},children:(null==t?void 0:t.full_name)||"Unknown User"}),(0,s.jsx)("p",{style:{color:p},children:(null==t?void 0:t.user_role)||"unknown"})]})]})})})]})]})})};var er=r(76381),es=r(85189),en=r(20534),ei=r(13324),eo=r(82337),ea=r(63597);let el=function(e){let{openSettings:t,setOpenSettings:r,user:n,breakpoint:i}=e,{setDarkThemeAnt:o,isDark:a}=(0,er.A)();return(0,s.jsx)(es.A,{open:t,onClose:()=>r(!1),style:{position:"fixed"},width:i?300:375,children:(0,s.jsxs)(C.A,{vertical:!0,gap:20,children:[i&&(0,s.jsx)(S.A,{title:"Total Credits",children:(0,s.jsxs)(C.A,{align:"center",style:{marginBottom:"24px"},gap:5,children:[(0,s.jsx)(ea.A,{style:{fontSize:"1.5rem",color:" #eeb501"}}),(0,s.jsx)("p",{style:{color:"rgb(69, 85, 96)",fontSize:"1.2rem"},children:(null==n?void 0:n.credit)||"0"})]})}),(0,s.jsx)(en.A.Item,{label:"Dark Mode",children:(0,s.jsx)(ei.A,{checked:a,onClick:e=>o(e)})}),(0,s.jsx)(en.A.Item,{label:"Language",children:(0,s.jsx)(eo.A,{})})]})})};var ec=r(83803),ed=r(81730),eA=r(63330),eu=r(58735),eh=r(36020),ep=r(96097),eg=r(51250),ex=r(89123),ey=r(12515),ef=r(15305);function ej(e,t,r,s,n){return{key:t,icon:r,children:s,label:e,type:n}}let em=[ej("MoveTo_Admin","move_to_admin",(0,s.jsx)(ed.A,{})),ej("MoveTo_Creator","move_to_creator",(0,s.jsx)(ed.A,{})),ej("user","user",null,[ej("dashboard","",(0,s.jsx)(eA.A,{}))],"group"),ej("events","events",null,[ej("create-event","create-event",(0,s.jsx)(ey.Vbh,{size:18})),ej("sms","sms",(0,s.jsx)(N.A,{})),ej("guest-response","guest-response",(0,s.jsx)(eu.A,{}))],"group"),ej("invites/messages","invites/messages",null,[ej("invitations","invitations",(0,s.jsx)(ef.W3Q,{size:18}))],"group"),ej("Credits","credit",null,[ej("manage-credit","manage-credits",(0,s.jsx)(eh.A,{}))],"group"),ej("Utilities","utilities",null,[ej("calendar","calendar",(0,s.jsx)(F.A,{})),ej("groups","groups",(0,s.jsx)(ep.A,{}))],"group")],ev=[ej("MoveTo_User","move_to_user",(0,s.jsx)(ed.A,{})),ej("Admin","admin",null,[ej("dashboard","",(0,s.jsx)(eA.A,{}))],"group"),ej("Credits","credits",null,[ej("creditRequests","credit-requests",(0,s.jsx)(eh.A,{}))],"group"),ej("Templates","templates",null,[ej("categories","categories",(0,s.jsx)(eg.A,{})),ej("Templates","templates",(0,s.jsx)(ex.A,{}))],"group"),ej("site_management","site_management",null,[ej("home","home_page",(0,s.jsx)(eg.A,{})),ej("Templates","templates_page",(0,s.jsx)(eg.A,{})),ej("contact_us","contact_us_page",(0,s.jsx)(eg.A,{}))],"group"),ej("app_config","app_config",null,[ej("quick_access","quick_access",(0,s.jsx)(eg.A,{})),ej("mobile_slider","mobile_slider",(0,s.jsx)(eg.A,{}))],"group")],eb=[ej("MoveTo_User","move_to_user",(0,s.jsx)(ed.A,{})),ej("Creator","creator",null,[ej("sidenav.dashboard",""),ej("sidenav.events","events",(0,s.jsx)(eA.A,{})),ej("sidenav.events","event",(0,s.jsx)(eA.A,{}),[ej("sidenav.invites","invites"),ej("sidenav.messages","messages")]),ej("sidenav.test","test",(0,s.jsx)(k.A,{}))],"group")];var ek=r(60760),e_=r(39545);let ew={src:"/_next/static/media/favicon.ffaa4446.ico"};var eC=r(27043);let{Sider:eS}=A.A,eE={hidden:{opacity:0,transition:{duration:.2,ease:"easeInOut"}},enter:{opacity:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeInOut"}}},eT=e=>e.startsWith("move_"),eI=e=>e.split("_")[2],eB=(e,t)=>""===t?"/".concat(e):"/".concat(e,"/").concat(t),eR=(e,t)=>(0,h.useMemo)(()=>{switch(e){case"creator":return eb;case"admin":return ev;case"user":let r=[...em];return"creator"===t?r.splice(0,1):"superadmin"===t?r.splice(1,1):r.splice(0,2),r;default:return[]}},[e,t]),eM=(e,t,r)=>{let n=(0,h.useCallback)(e=>{window.location.href="/".concat(e)},[]),i=(0,h.useCallback)((e,r,i,o,l)=>{let c=String(r);return eT(c)?{key:r,icon:i,label:(0,s.jsx)("button",{className:g().roleChangeButton,onClick:()=>n(eI(c)),children:e}),children:o,type:l}:{key:r,icon:i,label:"group"===l?e:(0,s.jsx)(a.N_,{href:eB(t,r),className:g().menuLink,children:e}),children:o,type:l}},[t,n]),o=(0,h.useCallback)(e=>(null==e?void 0:e.map(e=>{let t=r(e.label),s=e.children?o(e.children):void 0;return i(t,e.key,e.icon,s,e.type)}))||[],[i,r]);return(0,h.useMemo)(()=>o(e),[e,o])},eU=e=>(0,h.useMemo)(()=>{let t=e.split("/");return t.length>2?[t[2]]:[t[0]]},[e]),eP=e=>{let{collapsed:t,breakpoint:r,onToggle:n,onLogoClick:i,colorBgContainer:o,headerHeight:a}=e;return(0,s.jsxs)("div",{style:{backgroundColor:o,height:a,cursor:"pointer"},className:g().siderLogo,onClick:i,children:[(0,s.jsx)(B.default,{alt:"E-Nimto Logo",src:ew.src,width:40,height:40}),(0,s.jsx)(ek.N,{mode:"wait",initial:!1,children:!t&&(0,s.jsx)(e_.P.div,{variants:eE,initial:"hidden",animate:"enter",exit:"exit",transition:{type:"linear"},children:(0,s.jsx)("div",{style:{color:"#fc5b3f"},children:"E-Nimto"})})}),r&&(0,s.jsx)(_.Ay,{type:"link",icon:t?(0,s.jsx)(b.A,{style:{fontSize:"1.5rem"}}):(0,s.jsx)(v.A,{style:{fontSize:"1.5rem"}}),onClick:n,"aria-label":t?"Expand menu":"Collapse menu"})]})},eN=e=>{let{user_role:t,breakpoint:r,roleRoute:n,setBreakpoint:i}=e,o=(0,eC.useTranslations)("Sider"),{collapsed:c,setCollapsed:d}=(0,l.l)(),A=(0,a.a8)(),{token:{colorBgContainer:u,Layout:p}}=w.A.useToken(),g=eM(eR(n,t),n,o),x=eU(A),y=(0,h.useCallback)(e=>{i(e),d(e)},[i,d]),f=(0,h.useCallback)(()=>{d(!c)},[c,d]),j=(0,h.useCallback)(()=>{window.location.href="/".concat(t||"")},[t]),m=(0,h.useMemo)(()=>({height:"100vh",position:r?"fixed":"sticky",top:0,left:0,bottom:0,zIndex:100,overflowY:"auto"}),[r]),v=(0,h.useMemo)(()=>({height:"calc(100vh - 94px)",background:"inherit",color:"inherit",marginTop:"94px",overflowY:"auto",boxShadow:"5px 5px 3px rgba(0, 0, 0, 0.3)"}),[]);return(0,s.jsx)(h.Suspense,{fallback:(0,s.jsx)(G.A,{active:!0}),children:(0,s.jsxs)(eS,{width:250,style:m,breakpoint:"lg",collapsedWidth:r?"0":"".concat(100,"px"),theme:"light",trigger:null,onBreakpoint:y,collapsible:!0,collapsed:c,children:[(0,s.jsx)(eP,{collapsed:c,breakpoint:r,onToggle:f,onLogoClick:j,colorBgContainer:u,headerHeight:Number(64)}),(0,s.jsx)(ec.A,{style:v,selectedKeys:x,mode:"inline",theme:"light",items:g})]})})},eL=e=>{let{children:t,user:r}=e,n=(0,a.a8)().split("/")[1],{user_role:p}=r||{},{collapsed:x,setCollapsed:f,breakpoint:j,setBreakpoint:m}=(0,l.l)(),[v,b]=d.Ay.useNotification(),[k,_]=(0,h.useState)(!1),{data:w,isSuccess:C,isError:S,error:E}=(0,c.I)({queryKey:["userData"],queryFn:o.Sk,retry:1,refetchOnMount:!0,refetchOnReconnect:!1,refetchOnWindowFocus:!1,staleTime:0,gcTime:0});return(0,h.useEffect)(()=>{S&&v.error({message:"Error",description:E.message}),C&&i(w)},[S,E,v,C,w]),(0,s.jsxs)("div",{style:{maxWidth:"100vw"},children:[b,(0,s.jsxs)(A.A,{hasSider:!0,children:[(0,s.jsx)(eN,{roleRoute:n,setBreakpoint:m,breakpoint:j,user_role:p}),(0,s.jsx)(el,{breakpoint:j,user:r,openSettings:k,setOpenSettings:_}),(0,s.jsxs)(A.A,{style:{height:"100vh"},children:[j&&!x&&(0,s.jsx)("div",{onClick:()=>f(!0),className:g().siderMask}),(0,s.jsx)(et,{breakpoint:j,setOpenSettings:_,user:r}),(0,s.jsxs)(u.UC,{style:{padding:j?"10px 0":24,overflow:"auto",display:"flex",flexDirection:"column"},children:[t,(0,s.jsx)(y,{})]})]})]})]})}},95759:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});let s=(0,r(88693).vt)(e=>({collapsed:!1,setCollapsed:t=>e({collapsed:t}),breakpoint:!0,setBreakpoint:t=>e({breakpoint:t})}))}}]);