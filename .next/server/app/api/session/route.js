(()=>{var e={};e.id=754,e.ids=[754],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10974:(e,a,t)=>{"use strict";t.d(a,{E1:()=>c,LZ:()=>f,Ri:()=>d,uk:()=>o,zs:()=>i});var r=t(67218);t(79130);var s=t(44999),n=t(17478);let c=async e=>{await e.save()},f=async(e,a,t)=>{(await (0,s.UL)()).set(e,a,t)},d=async e=>{let a=(await (0,s.UL)()).get(e);return a?.value},i=async e=>{(await (0,s.UL)()).delete(e)};async function o(e){return new Promise(a=>setTimeout(a,1e3*e))}(0,n.D)([c,f,d,i,o]),(0,r.A)(c,"7fc012ee424da94933248534463e469e88a690c36a",null),(0,r.A)(f,"7fa05bffcd2cf12c044b243bfd49cc4508a5effcfc",null),(0,r.A)(d,"7fbba5fa7b0baf46c5bd88a32a4c18f5e225fb56b7",null),(0,r.A)(i,"7f1cfd2901d8ae09911195a8bc1a5ac95df27ac9a7",null),(0,r.A)(o,"403b019be513bdb3f9059ac0edbb6ef5638faec1b2",null)},14102:(e,a,t)=>{"use strict";t.r(a),t.d(a,{"403b019be513bdb3f9059ac0edbb6ef5638faec1b2":()=>s.uk,"4050b4bfea1136c3b758703cf06f5cc30b13d8c0e2":()=>r._C,"7f1029bf6bbd5fbc9c8a47e783d7efed64b30c039c":()=>r.aX,"7f16436b14715771c017f68bab44286b68fd54568f":()=>r.Oq,"7f1cfd2901d8ae09911195a8bc1a5ac95df27ac9a7":()=>s.zs,"7f493198ec0534a8dd78689ddf22b2d1f95de701dd":()=>r.JK,"7f634689e4be3e6459df4d7e37130c2ed489d57ae5":()=>r.ri,"7f7177a3269b8d8c2c9a6ecaeea5051add2a3581c1":()=>r.gS,"7f8a0db9061e0f3fa532608e7f89020327c404a73f":()=>r.Ht,"7f8aa60db26ad2f93fd2a04f91b1e01a7f825f899b":()=>r.HD,"7f93ee254081016829d604a75b3b35653c9332e30e":()=>r.SE,"7fa05bffcd2cf12c044b243bfd49cc4508a5effcfc":()=>s.LZ,"7fb48ee3012ff32e5aaaa4e7fae4bb23519d82e2a5":()=>r.J1,"7fbba5fa7b0baf46c5bd88a32a4c18f5e225fb56b7":()=>s.Ri,"7fbd64ebe47753c9152c4e6b30624382d1a35ef8f3":()=>r.Nq,"7fc012ee424da94933248534463e469e88a690c36a":()=>s.E1,"7fd42654199bbc522d263a66c304fae222a040f4fc":()=>r.bz,"7fd60f88411e82a0a4e20a7301788d06e02ce3bf92":()=>r.gV,"7fef4df98f8100d06e751157b15c80f945dc54bf85":()=>r.lx});var r=t(98158),s=t(10974)},15546:(e,a,t)=>{Promise.resolve().then(t.bind(t,2860)),Promise.resolve().then(t.bind(t,94187))},17941:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(74095),s=t(78878);let n=(0,r.A)(async({requestLocale:e})=>{let a=await e;return a&&s.DT.locales.includes(a)||(a=s.DT.defaultLocale),{locale:a,messages:(await t(34918)(`./${a}.json`)).default}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25248:(e,a,t)=>{"use strict";t.r(a),t.d(a,{patchFetch:()=>p,routeModule:()=>o,serverHooks:()=>u,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>b});var r={};t.r(r),t.d(r,{GET:()=>i});var s=t(96559),n=t(48088),c=t(37719),f=t(32190),d=t(98158);async function i(){try{let e=await (0,d.Ht)(),a={isLoggedIn:!!e.isLoggedIn,user:e.user?{id:e.user.id,full_name:e.user.full_name,email:e.user.email,profile_picture_url:e.user.profile_picture_url,user_role:e.user.user_role}:null};return f.NextResponse.json(a)}catch(e){return console.error("Session API error:",e),f.NextResponse.json({isLoggedIn:!1,user:null},{status:500})}}let o=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/session/route",pathname:"/api/session",filename:"route",bundlePath:"app/api/session/route"},resolvedPagePath:"/home/btwaashish/Desktop/enimto-frontend/src/app/api/session/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:l,workUnitAsyncStorage:b,serverHooks:u}=o;function p(){return(0,c.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:b})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33474:(e,a,t)=>{Promise.resolve().then(t.bind(t,44150)),Promise.resolve().then(t.bind(t,17995))},34918:(e,a,t)=>{var r={"./en.json":[43789,3789],"./nep.json":[59469,9469]};function s(e){if(!t.o(r,e))return Promise.resolve().then(()=>{var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a});var a=r[e],s=a[0];return t.e(a[1]).then(()=>t.t(s,19))}s.keys=()=>Object.keys(r),s.id=34918,e.exports=s},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77598:e=>{"use strict";e.exports=require("node:crypto")},78878:(e,a,t)=>{"use strict";t.d(a,{DT:()=>n,N_:()=>c,V2:()=>f});var r=t(96828),s=t(53832);let n=(0,r.o)({locales:["en","nep"],defaultLocale:"en"}),{Link:c,redirect:f,usePathname:d,useRouter:i,getPathname:o}=(0,s.A)(n)},98158:(e,a,t)=>{"use strict";t.d(a,{bz:()=>b,lx:()=>y,JK:()=>p,Oq:()=>k,Ht:()=>u,gS:()=>w,_C:()=>v,HD:()=>l,ri:()=>m,SE:()=>x,J1:()=>L,aX:()=>A,Nq:()=>h,gV:()=>g});var r=t(67218);t(79130);var s=t(44999);let n={isLoggedIn:!1},c={password:process.env.SECRET_KEY,cookieName:"session",cookieOptions:{httpOnly:!0,secure:!1,sameSite:"lax",path:"/"}};var f=t(88778),d=t(78878),i=t(10974),o=t(17478);let l=async()=>await (0,i.Ri)("darkmode")==="true",b=async e=>{await (0,i.LZ)("darkmode",`${e}`)},u=async()=>{let e=await (0,f.Nd)(await (0,s.UL)(),c);return e.isLoggedIn||(e.isLoggedIn=n.isLoggedIn),e},p=async()=>await (0,i.Ri)("NEXT_LOCALE")||"en",w=async()=>{let e=await (0,f.Nd)(await (0,s.UL)(),c);return e.isLoggedIn||(e.isLoggedIn=n.isLoggedIn),JSON.parse(JSON.stringify(e))},h=async e=>{let a=await u();Object.assign(a,e),await (0,i.E1)(a)},g=async e=>{let a=await u();a.user={...a.user,...e},await (0,i.E1)(a)},y=async()=>{(await u()).destroy()},m=async()=>{let e=await p();return await y(),(0,d.V2)({locale:e,href:"/"}),!0};async function v(e){(await (0,s.UL)()).set("PhoneNumber",`${e}`,{httpOnly:!0,expires:new Date(Date.now()+3e5),path:"/",sameSite:"strict"})}let k=async()=>await (0,i.Ri)("PhoneNumber"),A=async()=>{await (0,i.zs)("PhoneNumber")},x=async e=>{let a=await p();switch(e){case"superadmin":(0,d.V2)({locale:a,href:"/admin"});break;case"user":(0,d.V2)({locale:a,href:"/user"});break;case"creator":(0,d.V2)({locale:a,href:"/creator"});break;default:(0,d.V2)({locale:a,href:"/"})}},L=async()=>{try{let e=await u();if(!e.refresh_token)return await y(),!1;let a=process.env.NEXT_PUBLIC_API_URL;if(!a)throw Error("API URL is not defined");let t=await fetch(`${a}/api/v1/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e.refresh_token}),cache:"no-store"});if(!t.ok)return await y(),!1;let r=await t.json();return e.access_token=r.access_token,r.refresh_token&&(e.refresh_token=r.refresh_token),await (0,i.E1)(e),!0}catch(e){return await y(),!1}};(0,o.D)([l,b,u,p,w,h,g,y,m,v,k,A,x,L]),(0,r.A)(l,"7f8aa60db26ad2f93fd2a04f91b1e01a7f825f899b",null),(0,r.A)(b,"7fd42654199bbc522d263a66c304fae222a040f4fc",null),(0,r.A)(u,"7f8a0db9061e0f3fa532608e7f89020327c404a73f",null),(0,r.A)(p,"7f493198ec0534a8dd78689ddf22b2d1f95de701dd",null),(0,r.A)(w,"7f7177a3269b8d8c2c9a6ecaeea5051add2a3581c1",null),(0,r.A)(h,"7fbd64ebe47753c9152c4e6b30624382d1a35ef8f3",null),(0,r.A)(g,"7fd60f88411e82a0a4e20a7301788d06e02ce3bf92",null),(0,r.A)(y,"7fef4df98f8100d06e751157b15c80f945dc54bf85",null),(0,r.A)(m,"7f634689e4be3e6459df4d7e37130c2ed489d57ae5",null),(0,r.A)(v,"4050b4bfea1136c3b758703cf06f5cc30b13d8c0e2",null),(0,r.A)(k,"7f16436b14715771c017f68bab44286b68fd54568f",null),(0,r.A)(A,"7f1029bf6bbd5fbc9c8a47e783d7efed64b30c039c",null),(0,r.A)(x,"7f93ee254081016829d604a75b3b35653c9332e30e",null),(0,r.A)(L,"7fb48ee3012ff32e5aaaa4e7fae4bb23519d82e2a5",null)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[4447,7427,5849,580],()=>t(25248));module.exports=r})();