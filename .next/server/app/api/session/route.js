(()=>{var e={};e.id=754,e.ids=[754],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10974:(e,a,t)=>{"use strict";t.d(a,{E1:()=>n,LZ:()=>c,Ri:()=>d,uk:()=>o,zs:()=>i});var r=t(67218);t(79130);var s=t(44999),f=t(17478);let n=async e=>{await e.save()},c=async(e,a,t)=>{(await (0,s.UL)()).set(e,a,t)},d=async e=>{let a=(await (0,s.UL)()).get(e);return a?.value},i=async e=>{(await (0,s.UL)()).delete(e)};async function o(e){return new Promise(a=>setTimeout(a,1e3*e))}(0,f.D)([n,c,d,i,o]),(0,r.A)(n,"7fc1f7b637360c6fc21cd39de695debb5f5c7adcd8",null),(0,r.A)(c,"7f64e16283582f1faf3527236222ddddc0522f36e8",null),(0,r.A)(d,"7f1d7219c8e08ca09546ba411728b3d9f723b14ce8",null),(0,r.A)(i,"7fef310af4b92e4a55ef06228d79c0800c6e2efa00",null),(0,r.A)(o,"40a432bfa0f8d194382c24a76c80cdeb316bd7d412",null)},15546:(e,a,t)=>{Promise.resolve().then(t.bind(t,2860)),Promise.resolve().then(t.bind(t,94187))},17941:(e,a,t)=>{"use strict";t.d(a,{A:()=>f});var r=t(74095),s=t(78878);let f=(0,r.A)(async({requestLocale:e})=>{let a=await e;return a&&s.DT.locales.includes(a)||(a=s.DT.defaultLocale),{locale:a,messages:(await t(34918)(`./${a}.json`)).default}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25248:(e,a,t)=>{"use strict";t.r(a),t.d(a,{patchFetch:()=>p,routeModule:()=>o,serverHooks:()=>b,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>u});var r={};t.r(r),t.d(r,{GET:()=>i});var s=t(96559),f=t(48088),n=t(37719),c=t(32190),d=t(98158);async function i(){try{let e=await (0,d.Ht)(),a={isLoggedIn:!!e.isLoggedIn,user:e.user?{id:e.user.id,full_name:e.user.full_name,email:e.user.email,profile_picture_url:e.user.profile_picture_url,user_role:e.user.user_role}:null};return c.NextResponse.json(a)}catch(e){return console.error("Session API error:",e),c.NextResponse.json({isLoggedIn:!1,user:null},{status:500})}}let o=new s.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/api/session/route",pathname:"/api/session",filename:"route",bundlePath:"app/api/session/route"},resolvedPagePath:"/home/btwaashish/Desktop/enimto-frontend/src/app/api/session/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:l,workUnitAsyncStorage:u,serverHooks:b}=o;function p(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:u})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33474:(e,a,t)=>{Promise.resolve().then(t.bind(t,44150)),Promise.resolve().then(t.bind(t,17995))},34918:(e,a,t)=>{var r={"./en.json":[43789,3789],"./nep.json":[59469,9469]};function s(e){if(!t.o(r,e))return Promise.resolve().then(()=>{var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a});var a=r[e],s=a[0];return t.e(a[1]).then(()=>t.t(s,19))}s.keys=()=>Object.keys(r),s.id=34918,e.exports=s},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77598:e=>{"use strict";e.exports=require("node:crypto")},78878:(e,a,t)=>{"use strict";t.d(a,{DT:()=>f,N_:()=>n,V2:()=>c});var r=t(96828),s=t(53832);let f=(0,r.o)({locales:["en","nep"],defaultLocale:"en"}),{Link:n,redirect:c,usePathname:d,useRouter:i,getPathname:o}=(0,s.A)(f)},93664:(e,a,t)=>{"use strict";t.r(a),t.d(a,{"4000a122ea2cc70bb753247e64fd726f9f01fd96a1":()=>r._C,"40a432bfa0f8d194382c24a76c80cdeb316bd7d412":()=>s.uk,"7f1d7219c8e08ca09546ba411728b3d9f723b14ce8":()=>s.Ri,"7f25d32a8a402ee9f9d4cb8aaf4dfa925845cfc819":()=>r.aX,"7f59faeca44b77173c11ff6692933b73d78f6d0f91":()=>r.HD,"7f64e16283582f1faf3527236222ddddc0522f36e8":()=>s.LZ,"7f66150a30cf20c456a4aeda77cedd35ddb2e792c2":()=>r.bz,"7f6ef96e8b0ebd5011563da96c6f189e5e4212342a":()=>r.gS,"7f89c1213494ea9ff4952ae407cec9eb241e36637e":()=>r.Nq,"7f93a37001470be152224f386714b6f67c219c5888":()=>r.SE,"7f94a4f5be4bbe86ff28602338eb3b1e17757bda33":()=>r.lx,"7f99f73dfc89beb7817ac24713fc3dab365da86234":()=>r.JK,"7fa6190648d7f0a190609a022fb98eebf4bf4d2ad0":()=>r.gV,"7fc03f74330daec80a9e1aa0286e4f7e94fb5d90ee":()=>r.J1,"7fc1f7b637360c6fc21cd39de695debb5f5c7adcd8":()=>s.E1,"7fcde306efb6b1660d9694417f01dfc0487e4d469e":()=>r.Oq,"7fe51b929297dbddbf1b0bfba928e70af34e610950":()=>r.Ht,"7fef310af4b92e4a55ef06228d79c0800c6e2efa00":()=>s.zs,"7ff6b87fca8650ccaac2893adb95fc2767def95f3f":()=>r.ri});var r=t(98158),s=t(10974)},98158:(e,a,t)=>{"use strict";t.d(a,{bz:()=>u,lx:()=>y,JK:()=>p,Oq:()=>k,Ht:()=>b,gS:()=>w,_C:()=>v,HD:()=>l,ri:()=>m,SE:()=>x,J1:()=>L,aX:()=>A,Nq:()=>h,gV:()=>g});var r=t(67218);t(79130);var s=t(44999);let f={isLoggedIn:!1},n={password:process.env.SECRET_KEY,cookieName:"session",cookieOptions:{httpOnly:!0,secure:!1,sameSite:"lax",path:"/"}};var c=t(88778),d=t(78878),i=t(10974),o=t(17478);let l=async()=>await (0,i.Ri)("darkmode")==="true",u=async e=>{await (0,i.LZ)("darkmode",`${e}`)},b=async()=>{let e=await (0,c.Nd)(await (0,s.UL)(),n);return e.isLoggedIn||(e.isLoggedIn=f.isLoggedIn),e},p=async()=>await (0,i.Ri)("NEXT_LOCALE")||"en",w=async()=>{let e=await (0,c.Nd)(await (0,s.UL)(),n);return e.isLoggedIn||(e.isLoggedIn=f.isLoggedIn),JSON.parse(JSON.stringify(e))},h=async e=>{let a=await b();Object.assign(a,e),await (0,i.E1)(a)},g=async e=>{let a=await b();a.user={...a.user,...e},await (0,i.E1)(a)},y=async()=>{(await b()).destroy()},m=async()=>{let e=await p();return await y(),(0,d.V2)({locale:e,href:"/"}),!0};async function v(e){(await (0,s.UL)()).set("PhoneNumber",`${e}`,{httpOnly:!0,expires:new Date(Date.now()+3e5),path:"/",sameSite:"strict"})}let k=async()=>await (0,i.Ri)("PhoneNumber"),A=async()=>{await (0,i.zs)("PhoneNumber")},x=async e=>{let a=await p();switch(e){case"superadmin":(0,d.V2)({locale:a,href:"/admin"});break;case"user":(0,d.V2)({locale:a,href:"/user"});break;case"creator":(0,d.V2)({locale:a,href:"/creator"});break;default:(0,d.V2)({locale:a,href:"/"})}},L=async()=>{try{let e=await b();if(!e.refresh_token)return await y(),!1;let a=process.env.NEXT_PUBLIC_API_URL;if(!a)throw Error("API URL is not defined");let t=await fetch(`${a}/api/v1/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e.refresh_token}),cache:"no-store"});if(!t.ok)return await y(),!1;let r=await t.json();return e.access_token=r.access_token,r.refresh_token&&(e.refresh_token=r.refresh_token),await (0,i.E1)(e),!0}catch(e){return await y(),!1}};(0,o.D)([l,u,b,p,w,h,g,y,m,v,k,A,x,L]),(0,r.A)(l,"7f59faeca44b77173c11ff6692933b73d78f6d0f91",null),(0,r.A)(u,"7f66150a30cf20c456a4aeda77cedd35ddb2e792c2",null),(0,r.A)(b,"7fe51b929297dbddbf1b0bfba928e70af34e610950",null),(0,r.A)(p,"7f99f73dfc89beb7817ac24713fc3dab365da86234",null),(0,r.A)(w,"7f6ef96e8b0ebd5011563da96c6f189e5e4212342a",null),(0,r.A)(h,"7f89c1213494ea9ff4952ae407cec9eb241e36637e",null),(0,r.A)(g,"7fa6190648d7f0a190609a022fb98eebf4bf4d2ad0",null),(0,r.A)(y,"7f94a4f5be4bbe86ff28602338eb3b1e17757bda33",null),(0,r.A)(m,"7ff6b87fca8650ccaac2893adb95fc2767def95f3f",null),(0,r.A)(v,"4000a122ea2cc70bb753247e64fd726f9f01fd96a1",null),(0,r.A)(k,"7fcde306efb6b1660d9694417f01dfc0487e4d469e",null),(0,r.A)(A,"7f25d32a8a402ee9f9d4cb8aaf4dfa925845cfc819",null),(0,r.A)(x,"7f93a37001470be152224f386714b6f67c219c5888",null),(0,r.A)(L,"7fc03f74330daec80a9e1aa0286e4f7e94fb5d90ee",null)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[4447,7427,5849,580],()=>t(25248));module.exports=r})();