(()=>{var e={};e.id=5495,e.ids=[5495],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21024:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l={children:["",{children:["[locale]",{children:["(dashboards)",{children:["admin",{children:["categories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,33099)),"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/categories/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,51811)),"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,14251)),"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,43093)),"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,55371)),"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,11434)),"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/btwaashish/Desktop/enimto-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/home/btwaashish/Desktop/enimto-frontend/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/categories/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[locale]/(dashboards)/admin/categories/page",pathname:"/[locale]/admin/categories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30665:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});let s=(0,r(85665).vt)(e=>({edit:!1,setEdit:t=>e({edit:t}),editData:{name:"",description:"",id:0,image_url:""},setEditData:t=>e({editData:t}),isModalOpen:!1,setIsModalOpen:t=>e({isModalOpen:t})}))},31083:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/categories/_components/AddCategories.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/categories/_components/AddCategories.tsx","default")},33099:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(37413),a=r(81144);r(61120);var i=r(31083),o=r(42602);let n=function(){return(0,s.jsx)(a.Card,{size:"default",children:(0,s.jsxs)(a.Flex,{vertical:!0,gap:10,children:[(0,s.jsx)(i.default,{}),(0,s.jsx)(o.default,{})]})})}},33873:e=>{"use strict";e.exports=require("path")},42602:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/categories/_components/CategoriesTable.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(dashboards)/admin/categories/_components/CategoriesTable.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64642:(e,t,r)=>{Promise.resolve().then(r.bind(r,81144)),Promise.resolve().then(r.bind(r,31083)),Promise.resolve().then(r.bind(r,42602))},74075:e=>{"use strict";e.exports=require("zlib")},76240:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(60687),a=r(92168),i=r(8693),o=r(29494),n=r(54050),d=r(74018),l=r(67501),c=r(94132),u=r(77833),p=r(41),m=r(72968),h=r(23575),g=r(34308),x=r(30665),y=r(40415);let f=function(){let e=(0,i.jE)(),{setIsModalOpen:t,setEdit:r,setEditData:f}=(0,x.d)(),[b,w]=d.Ay.useMessage(),{data:v,isSuccess:j,isLoading:A,isError:k,error:_}=(0,o.I)({queryKey:["categories"],queryFn:a.LZ}),P=(0,n.n)({mutationFn:a.ul,onSuccess:t=>{e.invalidateQueries({queryKey:["categories"]}),b.success(`Category of id:${t.id} deleted successfully`)},onError:e=>{b.error(e.message)}}),q=e=>{f({name:e.name,description:e.description,id:e.id,image_url:e.image_url}),r(!0),t(!0)},C=[{dataIndex:"id",key:"id",title:"ID",width:"5%",render:(e,t,r)=>r+1},{dataIndex:"name",key:"name",title:"Name",width:"6%",ellipsis:!0,fixed:!0},{dataIndex:"description",key:"description",title:"Description",ellipsis:!0,width:"20%"},{dataIndex:"image_url",key:"image_url",title:"Image",width:"20%",render:(e,t)=>(0,s.jsx)(y.A,{src:e,alt:t.name+" image",style:{width:"100px",height:"auto"},fallback:!0})},{dataIndex:"created_at",key:"created_at",title:"Create at",ellipsis:!0,width:"10%",render:e=>(0,s.jsxs)(s.Fragment,{children:[e?.split("T")[0]," : ",e?.split("T")[1]?.split(".")[0]]})},{dataIndex:"updated_at",key:"updated_at",ellipsis:!0,title:"Updated at",width:"10%",render:e=>(0,s.jsxs)(s.Fragment,{children:[e?.split("T")[0]," : ",e?.split("T")[1]?.split(".")[0]]})},{dataIndex:"actions",key:"actions",title:"Actions",width:"10%",fixed:"right",render:(e,t)=>(0,s.jsxs)(l.A,{justify:"space-between",gap:8,wrap:"wrap",children:[(0,s.jsx)(c.A,{title:"Delete category",description:(0,s.jsxs)(l.A,{vertical:!0,children:["Are you sure to delete this category?",(0,s.jsx)("div",{children:"If you delete this category then all the templates under this category wil also be deleted."})]}),onConfirm:()=>P.mutate(t.id),okButtonProps:{loading:P.isPending},okText:"Yes",cancelText:"No",children:(0,s.jsx)(u.Ay,{danger:!0,type:"primary",block:!0,icon:(0,s.jsx)(h.A,{}),children:"Delete"})}),(0,s.jsx)(u.Ay,{block:!0,onClick:()=>q(t),icon:(0,s.jsx)(g.A,{}),children:"Edit"})]})}];return A?(0,s.jsx)(p.A,{columns:C,rowKey:"id",loading:!0}):j?(0,s.jsxs)(s.Fragment,{children:[w,(0,s.jsx)(p.A,{dataSource:v,bordered:!0,columns:C,rowKey:"id",scroll:{x:1500}})]}):k?(b.error(_.message),(0,s.jsxs)(s.Fragment,{children:[w,(0,s.jsx)(m.Ay,{status:"500",subTitle:"Sorry, something went wrong.",extra:(0,s.jsx)(u.Ay,{type:"primary",children:"Back Home"})})]})):void 0}},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82794:(e,t,r)=>{Promise.resolve().then(r.bind(r,52730)),Promise.resolve().then(r.bind(r,97989)),Promise.resolve().then(r.bind(r,76240))},83997:e=>{"use strict";e.exports=require("tty")},92168:(e,t,r)=>{"use strict";r.d(t,{I7:()=>n,JW:()=>p,LZ:()=>l,Tj:()=>o,mn:()=>a,nt:()=>d,tA:()=>m,ub:()=>i,ul:()=>c,yW:()=>u});var s=r(43313);async function a(e){try{return await s.y1.post("templates/",e)}catch(e){throw Error(e)}}async function i(e,t){try{return await s.y1.put(`templates/${t}`,e)}catch(e){throw Error(e)}}async function o(e){try{return await s.y1.post("templates/upload-template-images/",e,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw Error(e)}}async function n(e){try{return await s.y1.delete(`templates/${e}`)}catch(e){throw Error(e)}}async function d(){try{return await s.y1.get("templates/?skip=0&limit=100")}catch(e){throw Error(e)}}async function l(){try{return await s.f6.get("categories/?skip=0&limit=100")}catch(e){throw Error(e)}}async function c(e){try{return await s.y1.delete(`categories/${e}`)}catch(e){throw Error(e)}}async function u(e){try{return await s.y1.post("categories/",e)}catch(e){throw Error(e)}}async function p(e){try{return await s.y1.put(`categories/${e.id}`,e)}catch(e){throw Error(e)}}async function m(e){try{return await s.y1.post("categories/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw Error(e)}}},94735:e=>{"use strict";e.exports=require("events")},97989:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var s=r(60687),a=r(74018),i=r(44581),o=r(67501),n=r(77833),d=r(10678),l=r(52935),c=r(21015),u=r(16135),p=r(53082),m=r(35662),h=r(99530),g=r(8693),x=r(54050),y=r(92168),f=r(30665);r(43210);var b=r(93573),w=r(81440);let v=function(){let{isModalOpen:e,setIsModalOpen:t,edit:r,setEdit:v,editData:j,setEditData:A}=(0,f.d)(),[k,_]=a.Ay.useMessage(),P=(0,g.jE)(),q=(0,x.n)({mutationFn:y.tA,onError:e=>{k.error(e.message)}}),C=(0,x.n)({mutationFn:y.yW,onSuccess:()=>{k.success("Category created succesfully"),P.invalidateQueries({queryKey:["categories"]}),D()},onError:e=>{k.error(e.message)}}),E=(0,x.n)({mutationFn:y.JW,onSuccess:()=>{k.success("Category updated succesfully"),P.invalidateQueries({queryKey:["categories"]}),D()},onError:e=>{k.error(e.message)}}),D=()=>{A({name:"",description:"",id:0,image_url:""}),v(!1),t(!1),I.resetFields()},[I]=i.A.useForm();return(0,s.jsxs)(s.Fragment,{children:[_,(0,s.jsxs)(o.A,{justify:"space-between",children:[(0,s.jsx)(w.default,{level:3,children:"Template Categories"}),(0,s.jsx)(n.Ay,{onClick:()=>{A({name:"",description:"",id:0,image_url:""}),v(!1),t(!0)},icon:(0,s.jsx)(p.A,{}),type:"primary",children:"Add Categories"})]}),(0,s.jsx)(d.A,{title:r?"Edit Categories":"Add Categories",open:e,onOk:()=>{I.submit()},okText:r?"Update":"Add",destroyOnClose:!0,okButtonProps:{loading:q.isPending||C.isPending},onCancel:D,children:(0,s.jsxs)(i.A,{form:I,onFinish:e=>{if(r){if(e.image){let t=new FormData;t.append("image_in",e.image[0].originFileObj),q.mutate(t,{onSuccess:t=>{let r={name:e.name,description:e.description,image_url:t.icon_url,id:j.id};E.mutate(r)}})}else{let t={name:e.name,description:e.description,id:j.id};E.mutate(t)}}else{let t=new FormData;t.append("image_in",e.image[0].originFileObj),q.mutate(t,{onSuccess:t=>{let r={name:e.name,description:e.description,image_url:t.icon_url};C.mutate(r)}})}},layout:"vertical",children:[(0,s.jsx)(i.A.Item,{rules:[{required:!0,message:"Please enter category name"}],required:!0,name:"name",label:"Name",children:(0,s.jsx)(l.A,{})}),(0,s.jsx)(i.A.Item,{rules:[{required:!0,message:"Please enter category description"}],required:!0,name:"description",label:"Description",children:(0,s.jsx)(l.A.TextArea,{})}),r&&(0,s.jsxs)(o.A,{gap:10,wrap:"wrap",style:{marginBottom:"20px"},children:[(0,s.jsx)(u.A,{children:"Curent image: "}),(0,s.jsx)(c.A,{alt:"category image",src:j.image_url,width:100,fallback:b.a,style:{width:"100px",height:"auto"}})]}),(0,s.jsx)(i.A.Item,{rules:[{required:!r,message:"Please upload category image"}],required:!r,valuePropName:"fileList",name:"image",getValueFromEvent:e=>Array.isArray(e)?e:e?.fileList,label:r?"Update Image":"Upload Image",children:(0,s.jsxs)(h.A,{customRequest:({onSuccess:e})=>setTimeout(()=>{e("ok",null)},0),accept:"image/*",name:"file",maxCount:1,action:void 0,fileList:void 0,children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(m.A,{})}),(0,s.jsx)("p",{className:"ant-upload-text",children:"Click or drag receipt image to this area to upload"})]})})]})})]})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,7427,3566,5849,9368,6966,1032,2585,3213,5457,255,7257,5738,553,8756,4018,1151,9530,9210,1493,41,7442,6197,8744],()=>r(21024));module.exports=s})();