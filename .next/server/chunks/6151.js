exports.id=6151,exports.ids=[6151],exports.modules={5477:(e,t,r)=>{"use strict";r.d(t,{default:()=>R});var n=r(60687),A=r(6475);let o=(0,A.createServerReference)("4050b4bfea1136c3b758703cf06f5cc30b13d8c0e2",A.callServer,void 0,A.findSourceMapURL,"handlePhoneRegistration");var i=r(72066),s=r(32104),a=r(18200),l=r(94614),d=r(12340),c=r(60275),h=r(54050),f=r(44581),m=r(24937),g=r(67501),u=r(52935),p=r(56072),b=r(36638),x=r(96625),C=r(4691),y=r(77833),j=r(72176),_=r(53730),v=r(16135),w=r(74699),F=r(88920),E=r(83163),Q=r(43210),B=r(21917),D=r.n(B);let I=[{code:"+81",name:"Japan"},{code:"+61",name:"Australia"},{code:"+977",name:"Nepal"}];function R(){let e=(0,d.a8)(),[t,r]=(0,_.A)(),A=(0,d.rd)(),[B,R]=(0,Q.useState)({phone_number:""}),[P,S]=(0,Q.useState)(),[k]=f.A.useForm(),[U]=f.A.useForm(),[G,N]=(0,Q.useState)("+977"),{token:{colorTextSecondary:M}}=m.A.useToken(),z=I.map(e=>({key:e.code,label:(0,n.jsxs)(g.A,{gap:10,justify:"space-between",children:[(0,n.jsx)(v.A,{style:{color:M},children:e.name}),(0,n.jsxs)(v.A,{style:{color:M},children:[" ",e.code]})]})})),L=(0,h.n)({mutationFn:l.p7,onError:e=>{U.setFields([{name:"phone_number",errors:[e.message]}]),t.error(e.message)},onSuccess:async e=>{S(e.user_type),"new"===e.user_type&&await o(`${G}&${B.phone_number}`)}}),T=(0,h.n)({mutationFn:l.iS,onError:e=>{k.setFields([{name:"otp",errors:[e.message]}])},onSuccess:async e=>{if("registered"===P){await (0,i.N)({...e,isLoggedIn:!0});let t=await (0,s.g)();(0,a.S)(t.user?.user_role)}else await (0,i.N)({...e,isLoggedIn:!1}),A.push("/register/user-details")}}),J={hidden:{opacity:0,x:-100,transition:{duration:.5,ease:w.am}},enter:{opacity:1,x:0,transition:{duration:.5,ease:w.am}},exit:{opacity:0,x:100,transition:{duration:.5,ease:w.am}}};return(0,n.jsxs)(n.Fragment,{children:[r,(0,n.jsxs)(F.N,{mode:"wait",initial:!1,children:[!L.isSuccess&&(0,n.jsxs)(E.P.div,{variants:J,initial:"hidden",animate:"enter",exit:"exit",transition:{type:"linear"},children:[(0,n.jsxs)(f.A,{form:U,layout:"vertical",onFinish:e=>{R(e),L.mutate({...e,country_code:G})},size:"large",children:[(0,n.jsx)(f.A.Item,{label:"Enter your mobile number",name:"phone_number",rules:[{required:!0,message:"Please enter your phone number!"},{}],children:(0,n.jsx)(u.A,{onFocus:()=>{L.reset(),U.setFields([{name:"phone_number",errors:[]}])},value:`${B}`,prefix:(0,n.jsx)(p.A,{menu:{items:z,selectable:!0,defaultSelectedKeys:[G],onSelect:e=>{N(e.key)},style:{color:M}},arrow:!1,children:(0,n.jsx)(v.A,{children:(0,n.jsxs)(b.A,{style:{color:M},children:[G,(0,n.jsx)(c.A,{})]})})})})}),(0,n.jsxs)(x.A,{gutter:[0,10],children:[(0,n.jsx)(C.A,{span:24,children:"/login/phone"===e?(0,n.jsxs)(g.A,{justify:"space-between",gap:20,wrap:"wrap",children:[(0,n.jsx)(y.Ay,{type:"link",style:{padding:"0"},children:(0,n.jsx)(d.N_,{href:"/register",children:"Register New Account"})}),(0,n.jsx)(y.Ay,{type:"link",style:{padding:"0"},children:(0,n.jsx)(d.N_,{href:"/login/username",children:"Login with email"})})]}):(0,n.jsx)(y.Ay,{type:"link",style:{padding:"0"},children:(0,n.jsx)(d.N_,{href:"/login/",children:"Already have an account? Sign in"})})}),(0,n.jsx)(C.A,{span:24,children:(0,n.jsx)(y.Ay,{loading:L.isPending,danger:L.isError,htmlType:"submit",block:!0,type:"primary",children:"Submit"})})]})]}),(0,n.jsx)("br",{})]},"phone-form"),L.isSuccess&&(0,n.jsxs)(E.P.div,{variants:J,initial:"hidden",animate:"enter",exit:"exit",transition:{type:"linear"},children:[(0,n.jsx)("br",{}),(0,n.jsx)("h3",{className:D().h2,children:"Enter the otp sent to your device"}),(0,n.jsx)("br",{}),(0,n.jsxs)(f.A,{size:"large",form:k,onFinish:e=>{let t=e.otp.join("");T.mutate({...B,otp:t})},children:[(0,n.jsx)(f.A.Item,{style:{width:"max-content"},name:"otp",rules:[{required:!0,message:"Please enter your OTP!"}],children:(0,n.jsx)(j.U,{onFocus:T.reset,autoFocus:!0,autoSubmit:k,inputType:"numeric"})}),(0,n.jsxs)(x.A,{gutter:[0,10],children:[(0,n.jsx)(C.A,{span:24,children:(0,n.jsx)(x.A,{justify:"end",children:(0,n.jsx)(y.Ay,{type:"link",style:{padding:"0"},onClick:()=>{T.reset(),L.reset(),k.resetFields(),k.setFields([{name:"otp",errors:void 0}])},children:"Go back"})})}),(0,n.jsx)(C.A,{span:24,children:(0,n.jsx)(y.Ay,{loading:T.isPending,danger:T.isError,htmlType:"submit",type:"primary",block:!0,children:"Submit"})})]})]})]},"otp-form")]})]})}},11249:e=>{e.exports={bodyCard:"style_bodyCard__7OYtl",nimto_logo2:"style_nimto_logo2__Z6vQi",nimto_logo:"style_nimto_logo__LrnMC"}},12340:(e,t,r)=>{"use strict";r.d(t,{N_:()=>i,a8:()=>a,rd:()=>l});var n=r(32482),A=r(42277);let o=(0,n.o)({locales:["en","nep"],defaultLocale:"en"}),{Link:i,redirect:s,usePathname:a,useRouter:l,getPathname:d}=(0,A.xp)(o)},14102:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"403b019be513bdb3f9059ac0edbb6ef5638faec1b2":()=>A.uk,"4050b4bfea1136c3b758703cf06f5cc30b13d8c0e2":()=>n._C,"7f1029bf6bbd5fbc9c8a47e783d7efed64b30c039c":()=>n.aX,"7f16436b14715771c017f68bab44286b68fd54568f":()=>n.Oq,"7f1cfd2901d8ae09911195a8bc1a5ac95df27ac9a7":()=>A.zs,"7f493198ec0534a8dd78689ddf22b2d1f95de701dd":()=>n.JK,"7f634689e4be3e6459df4d7e37130c2ed489d57ae5":()=>n.ri,"7f7177a3269b8d8c2c9a6ecaeea5051add2a3581c1":()=>n.gS,"7f8a0db9061e0f3fa532608e7f89020327c404a73f":()=>n.Ht,"7f8aa60db26ad2f93fd2a04f91b1e01a7f825f899b":()=>n.HD,"7f93ee254081016829d604a75b3b35653c9332e30e":()=>n.SE,"7fa05bffcd2cf12c044b243bfd49cc4508a5effcfc":()=>A.LZ,"7fb48ee3012ff32e5aaaa4e7fae4bb23519d82e2a5":()=>n.J1,"7fbba5fa7b0baf46c5bd88a32a4c18f5e225fb56b7":()=>A.Ri,"7fbd64ebe47753c9152c4e6b30624382d1a35ef8f3":()=>n.Nq,"7fc012ee424da94933248534463e469e88a690c36a":()=>A.E1,"7fd42654199bbc522d263a66c304fae222a040f4fc":()=>n.bz,"7fd60f88411e82a0a4e20a7301788d06e02ce3bf92":()=>n.gV,"7fef4df98f8100d06e751157b15c80f945dc54bf85":()=>n.lx});var n=r(98158),A=r(10974)},18200:(e,t,r)=>{"use strict";r.d(t,{S:()=>A});var n=r(6475);let A=(0,n.createServerReference)("7f93ee254081016829d604a75b3b35653c9332e30e",n.callServer,void 0,n.findSourceMapURL,"redirectTo")},21917:e=>{e.exports={mainContainer:"phone_mainContainer__Vnjz2",formContainer:"phone_formContainer__xy_3U",h2:"phone_h2__yu3pp",errorDiv:"phone_errorDiv__XwZoe"}},26042:(e,t,r)=>{Promise.resolve().then(r.bind(r,76080)),Promise.resolve().then(r.bind(r,44150)),Promise.resolve().then(r.bind(r,17995)),Promise.resolve().then(r.t.bind(r,46533,23)),Promise.resolve().then(r.bind(r,44082)),Promise.resolve().then(r.bind(r,60948)),Promise.resolve().then(r.bind(r,53148))},35954:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(60687),A=r(42585),o=r(72968),i=r(77833);let s=function({reset:e,error:t}){return(0,n.jsx)(A.A,{variant:"outlined",style:{boxShadow:"none"},children:(0,n.jsx)(o.Ay,{status:"error",title:"Something went wrong",subTitle:(0,n.jsx)(i.Ay,{type:"link",onClick:()=>e(),children:"Try again"})})})}},35978:(e,t,r)=>{"use strict";r.d(t,{Card:()=>A,Col:()=>o,Flex:()=>i,Row:()=>s});var n=r(12907);let A=(0,n.registerClientReference)(function(){throw Error("Attempted to call Card() from the server but Card is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/btwaashish/Desktop/enimto-frontend/node_modules/antd/es/index.js@__barrel_optimize__?names=Card,Col,Flex,Row","Card"),o=(0,n.registerClientReference)(function(){throw Error("Attempted to call Col() from the server but Col is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/btwaashish/Desktop/enimto-frontend/node_modules/antd/es/index.js@__barrel_optimize__?names=Card,Col,Flex,Row","Col"),i=(0,n.registerClientReference)(function(){throw Error("Attempted to call Flex() from the server but Flex is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/btwaashish/Desktop/enimto-frontend/node_modules/antd/es/index.js@__barrel_optimize__?names=Card,Col,Flex,Row","Flex"),s=(0,n.registerClientReference)(function(){throw Error("Attempted to call Row() from the server but Row is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/btwaashish/Desktop/enimto-frontend/node_modules/antd/es/index.js@__barrel_optimize__?names=Card,Col,Flex,Row","Row")},44082:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n={src:"/_next/static/media/pic.af767853.jpg",height:3384,width:5305,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAApxNb/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIEEQADcf/aAAgBAQABPwBJ8ldrW5IK3R7n/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQIAEf/aAAgBAgEBPwBuqerv/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQIAAzH/2gAIAQMBAT8AFaLgn//Z",blurWidth:8,blurHeight:5}},48485:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(37413),A=r(98158),o=r(81034),i=r(35978),s=r(53384);r(61120);var a=r(11249),l=r.n(a),d=r(84916);let c=function({children:e}){return(0,n.jsxs)(i.Row,{children:[(0,n.jsx)(i.Col,{xl:14,lg:12,xs:0,children:(0,n.jsx)(s.default,{src:o.default,placeholder:"blur",priority:!0,alt:"image",sizes:"100vh",fill:!0,style:{objectFit:"cover",objectPosition:"center"}})}),(0,n.jsx)(i.Col,{xl:10,lg:12,xs:24,children:(0,n.jsxs)(i.Card,{variant:"outlined",style:{boxShadow:"none",borderRadius:"0",height:"100vh",overflow:"auto",position:"relative"},size:"small",className:l().bodyCard,children:[(0,n.jsx)("div",{className:l().nimto_logo,children:(0,n.jsx)(s.default,{alt:"logo",src:d.default,width:d.default.width,height:d.default.height,style:{width:"20%",height:"max-content"}})}),(0,n.jsx)(i.Row,{align:"middle",justify:"center",style:{width:"100%",height:"100%"},children:(0,n.jsx)(i.Col,{lg:16,sm:18,xs:24,children:(0,n.jsx)(i.Card,{type:"inner",size:"small",variant:"outlined",style:{boxShadow:"none",height:"100%",padding:"20px 0"},children:(0,n.jsxs)(i.Flex,{vertical:!0,gap:50,children:[(0,n.jsx)("div",{className:l().nimto_logo2,children:(0,n.jsx)(s.default,{alt:"logo",src:d.default,width:d.default.width,height:d.default.height,style:{width:"100%",height:"auto"}})}),e]})})})})]})})]})};var h=r(69403);async function f({children:e}){let t=await (0,A.Ht)();return t.isLoggedIn?(0,A.SE)(t.user?.user_role||"user"):(0,n.jsx)(h.default,{children:(0,n.jsx)(c,{children:e})})}},60948:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n={src:"/_next/static/media/secondary_app_logo.62080d50.png",height:176,width:622,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEU4ODg4Nzc5ODg4ODg4Nzc4ODg8PDwPy4W5AAAAB3RSTlNhc05BhJQqGdI+ggAAAAlwSFlzAAALEwAACxMBAJqcGAAAABpJREFUeJxjYGVmYGJmYmJjYGRgZWRkZGEAAAF+ACWUWh/jAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2}},76080:(e,t,r)=>{"use strict";r.d(t,{Card:()=>n.A,Col:()=>A.A,Flex:()=>o.A,Row:()=>i.A});var n=r(42585),A=r(4691),o=r(67501),i=r(96625)},79186:(e,t,r)=>{Promise.resolve().then(r.bind(r,35978)),Promise.resolve().then(r.bind(r,2860)),Promise.resolve().then(r.bind(r,94187)),Promise.resolve().then(r.t.bind(r,49603,23)),Promise.resolve().then(r.bind(r,81034)),Promise.resolve().then(r.bind(r,84916)),Promise.resolve().then(r.bind(r,69403))},81034:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n={src:"/_next/static/media/pic.af767853.jpg",height:3384,width:5305,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAApxNb/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIEEQADcf/aAAgBAQABPwBJ8ldrW5IK3R7n/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQIAEf/aAAgBAgEBPwBuqerv/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQIAAzH/2gAIAQMBAT8AFaLgn//Z",blurWidth:8,blurHeight:5}},83685:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(login_register)/login/phone/_components/FormComponent.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/btwaashish/Desktop/enimto-frontend/src/app/[locale]/(login_register)/login/phone/_components/FormComponent.tsx","default")},84916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n={src:"/_next/static/media/secondary_app_logo.62080d50.png",height:176,width:622,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEU4ODg4Nzc5ODg4ODg4Nzc4ODg8PDwPy4W5AAAAB3RSTlNhc05BhJQqGdI+ggAAAAlwSFlzAAALEwAACxMBAJqcGAAAABpJREFUeJxjYGVmYGJmYmJjYGRgZWRkZGEAAAF+ACWUWh/jAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2}}};